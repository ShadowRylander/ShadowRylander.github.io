<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<link rel="alternate"
      type="application/rss+xml"
      href="https://alhassy.github.io/rss.xml"
      title="RSS feed for https://alhassy.github.io/"/>
<title>AlBasmala: <br> Blogging with Emacs & Org-mode (•̀ᴗ•́)و</title>

<link rel="stylesheet" type="text/css" href="https://alhassy.github.io/org-special-block-extras/tooltipster/dist/css/tooltipster.bundle.min.css"/>

<link rel="stylesheet" type="text/css" href="https://alhassy.github.io/org-special-block-extras/tooltipster/dist/css/plugins/tooltipster/sideTip/themes/tooltipster-sideTip-punk.min.css" />

<script type="text/javascript" src="https://code.jquery.com/jquery-1.10.0.min.js"></script>

 <script type="text/javascript"            src="https://alhassy.github.io/org-special-block-extras/tooltipster/dist/js/tooltipster.bundle.min.js"></script>

  <script>
         $(document).ready(function() {
             $('.tooltip').tooltipster({
                 theme: 'tooltipster-punk',
                 contentAsHTML: true,
                 animation: 'grow',
                 delay: [100,500],
                 // trigger: 'click'
                 trigger: 'custom',
                 triggerOpen: {
                     mouseenter: true
                 },
                 triggerClose: {
                     originClick: true,
                     scroll: true
                 }
 });
         });
     </script>

<style>
   abbr {color: red;}

   .tooltip { border-bottom: 1px dotted #000;
              color:red;
              text-decoration: none;}
</style>

        <style>
        /* From: https://endlessparentheses.com/public/css/endless.css */
        /* See also: https://meta.superuser.com/questions/4788/css-for-the-new-kbd-style */
        kbd
        {
          -moz-border-radius: 6px;
          -moz-box-shadow: 0 1px 0 rgba(0,0,0,0.2),0 0 0 2px #fff inset;
          -webkit-border-radius: 6px;
          -webkit-box-shadow: 0 1px 0 rgba(0,0,0,0.2),0 0 0 2px #fff inset;
          background-color: #f7f7f7;
          border: 1px solid #ccc;
          border-radius: 6px;
          box-shadow: 0 1px 0 rgba(0,0,0,0.2),0 0 0 2px #fff inset;
          color: #333;
          display: inline-block;
          font-family: 'Droid Sans Mono', monospace;
          font-size: 80%;
          font-weight: normal;
          line-height: inherit;
          margin: 0 .1em;
          padding: .08em .4em;
          text-shadow: 0 1px 0 #fff;
          word-spacing: -4px;

          box-shadow: 2px 2px 2px #222; /* MA: An extra I've added. */
        }
        </style>
        <link rel="stylesheet" type="text/css" href="https://alhassy.github.io/org-special-block-extras/tooltipster/dist/css/tooltipster.bundle.min.css"/>

        <link rel="stylesheet" type="text/css" href="https://alhassy.github.io/org-special-block-extras/tooltipster/dist/css/plugins/tooltipster/sideTip/themes/tooltipster-sideTip-punk.min.css" />

        <script type="text/javascript">
            if (typeof jQuery == 'undefined') {
                document.write(unescape('%3Cscript src="https://code.jquery.com/jquery-1.10.0.min.js"%3E%3C/script%3E'));
            }
        </script>

         <script type="text/javascript"            src="https://alhassy.github.io/org-special-block-extras/tooltipster/dist/js/tooltipster.bundle.min.js"></script>

          <script>
                 $(document).ready(function() {
                     $('.tooltip').tooltipster({
                         theme: 'tooltipster-punk',
                         contentAsHTML: true,
                         animation: 'grow',
                         delay: [100,500],
                         // trigger: 'click'
                         trigger: 'custom',
                         triggerOpen: {
                             mouseenter: true
                         },
                         triggerClose: {
                             originClick: true,
                             scroll: true
                         }
         });
                 });
             </script>

        <style>
           abbr {color: red;}

           .tooltip { border-bottom: 1px dotted #000;
                      color:red;
                      text-decoration: none;}
        </style>
        <meta name="author" content="Musa Al-hassy ??? ">
    <meta name="referrer" content="no-referrer"><link href="usual-org-front-matter.css" rel="stylesheet" type="text/css" /><link href="org-notes-style.css" rel="stylesheet" type="text/css" /><link href="floating-toc.css" rel="stylesheet" type="text/css" /><link href="blog-banner.css" rel="stylesheet" type="text/css" /><link rel="icon" href="images/favicon.png"><script type="text/javascript">
   /*
   @licstart  The following is the entire license notice for the
   JavaScript code in this tag.

   Copyright (C) 2012-2020 Free Software Foundation, Inc.

   The JavaScript code in this tag is free software: you can
   redistribute it and/or modify it under the terms of the GNU
   General Public License (GNU GPL) as published by the Free Software
   Foundation, either version 3 of the License, or (at your option)
   any later version.  The code is distributed WITHOUT ANY WARRANTY;
   without even the implied warranty of MERCHANTABILITY or FITNESS
   FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

   As additional permission under GNU GPL version 3 section 7, you
   may distribute non-source (e.g., minimized or compacted) forms of
   that code without the copy of the GNU GPL normally required by
   section 4, provided you include this license notice and a URL
   through which recipients can access the Corresponding Source.


   @licend  The above is the entire license notice
   for the JavaScript code in this tag.
   */
   <!--/*--><![CDATA[/*><!--*/
    function CodeHighlightOn(elem, id)
    {
      var target = document.getElementById(id);
      if(null != target) {
        elem.cacheClassElem = elem.className;
        elem.cacheClassTarget = target.className;
        target.className = "code-highlighted";
        elem.className   = "code-highlighted";
      }
    }
    function CodeHighlightOff(elem, id)
    {
      var target = document.getElementById(id);
      if(elem.cacheClassElem)
        elem.className = elem.cacheClassElem;
      if(elem.cacheClassTarget)
        target.className = elem.cacheClassTarget;
    }
   /*]]>*///-->
   </script><script type="text/x-mathjax-config">
       MathJax.Hub.Config({
           displayAlign: "center",
           displayIndent: "0em",

           "HTML-CSS": { scale: 100,
                           linebreaks: { automatic: "false" },
                           webFont: "TeX"
                          },
           SVG: {scale: 100,
                 linebreaks: { automatic: "false" },
                 font: "TeX"},
           NativeMML: {scale: 100},
           TeX: { equationNumbers: {autoNumber: "AMS"},
                  MultLineWidth: "85%",
                  TagSide: "right",
                  TagIndent: ".8em"
                }
   });
   </script>
   <script type="text/javascript"
           src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
   </head>
<body>
<div id="preamble" class="status">
<div class="header">
  <a href="https://alhassy.github.io/" class="logo">Life & Computing Science</a>
  <br>
    <a href="https://alhassy.github.io/AlBasmala">AlBasmala</a>
    <a href="https://alhassy.github.io/archive">Archive</a>
    <a href="https://alhassy.github.io/tags">Tags</a>
    <a href="https://alhassy.github.io/rss.xml">RSS</a>
    <a href="https://alhassy.github.io/about">About</a>
</div></div>
<div id="content">
<h1 class="post-title"><div class="title" style="margin: 0 0 0 0 !important;"><a href="https://alhassy.github.io/AlBasmala.html">AlBasmala: <br> Blogging with Emacs & Org-mode (•̀ᴗ•́)و</a></h1></div><div style="text-align: center;">20 Aug 1991</div><center> <img src="images/org_logo.png" alt="Article image"
             width="150" height="150" align="top" /> </center><br><center><strong>Abstract</strong></center>
<nav id="table-of-contents">
<h2><a href="javascript:window.scrollTo(0,0)" style="color: black !important; border-bottom: none !important;" class="tooltip" title="Go to the top of the page"> Ξ </a></h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#https-github-com-bastibe-org-static-blog-org-static-block">1. Using org-static-block</a></li>
<li><a href="#HTML-Header">2. HTML Header</a></li>
<li><a href="#Blog-Banner">3. Blog Banner and Dynamic Code Highlighting</a></li>
<li><a href="#MathJax-Support">4. \(e^{i \cdot \pi} + 1 = 0\) &#x2014;MathJax Support</a></li>
<li><a href="#Floating-TOC">5. Ξ: Floating <i>Table of Contents</i></a></li>
<li><a href="#HTML-Footer">6. HTML Footer: Comments</a></li>
<li><a href="#Images">7. Article Headers &amp; Images</a></li>
<li><a href="#Article-Footers">8. Article Footers</a></li>
<li><a href="#multipost-pages">9. The Index Page</a></li>
<li><a href="#orgb6cbd9d">10. Curvy Source Blocks</a></li>
<li><a href="#org9b835cc">11. <code>my/blog/new-article</code></a></li>
<li><a href="#Publishing-with-C-u-C-u-C-c-C-b">12. Publishing with <code>[C-u C-u] C-c C-b</code></a></li>
<li><a href="#the-name">13. The name: al-bas-mala</a></li>
</ul>
</div>
</nav>

<p>
How my blog is setup (•̀ᴗ•́)و
</p>

<p>
Here are some notable features of my blog.
</p>

<ul class="org-ul">
<li>✓ A nice blog banner &#x2014; §<a href="#org6506be6">3</a></li>
<li>✓ Overall nice looking HTML style &#x2014; <a href="http://taopeng.me/org-notes-style/">org-notes-style</a></li>
<li><i>✓ Dynamically</i> highlighting code from references in prose &#x2014; §<a href="#org6506be6">3</a></li>
<li>✓ A floating, yet unobtrusive, table of contents &#x2014; §<a href="#org51ca180">5</a></li>
<li>✓ Beautiful math using LaTeX notation, \(\forall \phi ⇒ \exists \phi\) &#x2014;
§<a href="#orged7eee3">4</a></li>
<li>✓ Comments for blog readers &#x2014; §<a href="#orgb3b4a01">6</a></li>
<li>✓ Tags and RSS feed for blog articles &#x2014; §<a href="#org5b6eeaf">1</a></li>
<li>✓ Articles have dedicated images, §<a href="#orgeb5a4ab">7</a>, which are displayed
on the blog's welcome page along with the article's abstract, §<a href="#org32e8eae">9</a>
<ul class="org-ul">
<li>Auto-generated index/sitemap that shows an image and short abstract of each article</li>
</ul></li>
<li>✓ Tooltips, folded regions, and badges &#x2014; <a href="https://alhassy.github.io/org-special-block-extras/"><img src="https://img.shields.io/badge/org--special--block--extras-1.2-informational?logo=Gnu-Emacs"></a></li>
<li>✓ Org-mode, a rich markup, to write articles ♥‿♥</li>
<li>✓ Style inline code and tables &#x2014; §<a href="#org8835ef4">10</a></li>
<li>✓ Augment article footers to link to the Org source and to the Github history
&#x2014; §<a href="#org833de1f">8</a>
<ul class="org-ul">
<li>Org source is colourised!</li>
</ul></li>
<li>✓ Unfurling links &#x2014; §<a href="#org7481f7a">11</a></li>
</ul>


<details class="code-details"> <summary> <strong> <font face="Courier" size="3" color="green"> Super Simple Intro to Org-mode </font> </strong> </summary> <p>

</p>

<p>
Org-mode is an outliner, a rich markup language, spreadsheet tool, literate
programming systems, and so much more.
</p>

<p>
Org-mode syntax is very <i>natural</i>; e.g., the following is Org-mode!
</p>

<ul class="org-ul">
<li>You can try Org-mode notation and see how it renders live
at: <a href="http://mooz.github.io/org-js/">http://mooz.github.io/org-js/</a></li>
</ul>
<div class="org-src-container">
<pre class="src src-org">+ Numbered and bulleted lists are as expected.
  - Do the things:
    1.  This first
    2.  This second
    44. [@44] This forty-fourth
  - <span style="color: #859900;">[@&#120003;]</span> at the beginning of an iterm forces
    list numbering to start at &#120003;
  - <span style="color: #859900;">[ ]</span> or <span style="color: #859900;">[X]</span> at the beginning for checkbox lists
  - Use <span style="color: #859900;">Alt &#8593;, &#8595;</span> to move items up and down lists;
    renumbering happens automatically.

+ Definitions lists:
   <span style="color: #cb4b16;">- term :: def</span>
+ Use a comment, such as <span style="color: #859900;"># separator</span>, between two lists
  to communicate that these are two lists that <span style="font-style: italic;">happen</span> to be
  one after the other. Or use any <span style="font-style: italic;">non-indented</span> text to split
  a list into two.

<span style="color: #268bd2; font-weight: bold;">* My top heading, section</span>
  words
<span style="color: #FDF6E3;">*</span><span style="color: #d33682; font-weight: bold;">* Child heading, subsection</span>
  more words
<span style="color: #FDF6E3;">**</span><span style="color: #6c71c4; font-weight: bold;">* Grandchild heading, subsubsection</span>
    even more!
</pre>
</div>

<p>
You make a heading by writing <code>* heading</code> at the start of a line, then you can
<kbd> TAB </kbd> to fold/unfold its contents. A table of contents, figures, tables can be
requested as follows:
</p>
<div class="org-src-container">
<pre class="src src-org"><span style="color: #96A7A9; font-style: italic;"># figures not implemented in the HTML backend</span>
<span style="color: #96A7A9; font-style: italic;"># The &#120003; is optional and denotes headline depth</span>
<span style="color: #35a69c;">#+toc: headlines &#120003;</span>
<span style="color: #35a69c;">#+toc: figures</span>
<span style="color: #35a69c;">#+toc: tables</span>
</pre>
</div>

<ul class="org-ul">
<li><p>
<b>Markup</b> elements can be nested.
</p>

<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Syntax</th>
<th scope="col" class="org-left">Result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>/Emphasise/</code>, italics</td>
<td class="org-left"><i>Emphasise</i></td>
</tr>

<tr>
<td class="org-left"><code>*Strong*</code>, bold</td>
<td class="org-left"><b>Strong</b></td>
</tr>

<tr>
<td class="org-left"><code>*/very strongly/*</code>, bold italics</td>
<td class="org-left"><b><i>very strongly</i></b></td>
</tr>

<tr>
<td class="org-left"><code>=verbatim=</code>, monospaced typewriter</td>
<td class="org-left"><code>verbatim</code></td>
</tr>

<tr>
<td class="org-left"><code>+deleted+</code></td>
<td class="org-left"><del>deleted</del></td>
</tr>

<tr>
<td class="org-left"><code>_inserted_</code></td>
<td class="org-left"><span class="underline">inserted</span></td>
</tr>

<tr>
<td class="org-left"><code>super^{script}ed</code></td>
<td class="org-left">super<sup>script</sup>ed</td>
</tr>

<tr>
<td class="org-left"><code>sub_{scripted}ed</code></td>
<td class="org-left">sub<sub>scripted</sub>ed</td>
</tr>
</tbody>
</table>

<ul class="org-ul">
<li>Markup can span across multiple lines, by default no more than 2.</li>
<li>In general, markup cannot be ‘in the middle’ of a word.</li>
</ul></li>
<li>New lines demarcate paragraphs</li>
<li>Use <code>\\</code> to force line breaks without starting a new paragraph</li>
<li>Use <i>at least</i> 5 dashes, <code>-----</code>, to form a horizontal rule</li>
</ul>

<p>
<b>Export</b> In Emacs, press <kbd> C-c C-e h o </kbd> to obtain an HTML format of the Org-mode
markup; use <kbd> C-c C-e l o </kbd> to obtain a PDF rendition.
</p>

<p>
<b>Working with tables</b>
</p>
<div class="org-src-container">
<pre class="src src-org"><span style="color: #35a69c;">#+ATTR_HTML: :width 100%</span>
<span style="color: #35a69c;">#+name: my-tbl</span>
<span style="color: #35a69c;">#+caption:</span> <span style="background-color: #faf1d9;">Example table</span>
<span style="color: #6c71c4;">| Who? | What? |</span>
<span style="color: #6c71c4;">|------+-------|</span>
<span style="color: #6c71c4;">| me   | Emacs |</span>
<span style="color: #6c71c4;">| you  | Org   |</span>
</pre>
</div>

<p>
Note the horizontal rule makes a header row and is formed by typing <kbd> | - </kbd> then
pressing <kbd> TAB </kbd>. You can <kbd> TAB </kbd> between cells.
</p>

<p>
<b>Working with links</b>
</p>

<p>
Link syntax is <code>[[source url][description]]</code>; e.g., we can refer to the above
table with <code>[[my-tbl][woah]]</code>.
Likewise for images: <code>file:path-to-image.</code>
</p>

<p>
<b>Source code</b>
</p>
<div class="org-src-container">
<pre class="src src-org"><span class="linenr">1: </span><span style="background-color: #f7edd0;">#+begin_src C</span>
<span id="coderef-start" class="coderef-off"><span class="linenr">2: </span><span style="color: #b58900; background-color: #faf1d9; font-style: italic;">int</span><span style="background-color: #faf1d9;"> </span><span style="color: #268bd2; background-color: #faf1d9;">tot</span><span style="background-color: #faf1d9;"> = 1;</span> (start)</span>
<span id="coderef-loop" class="coderef-off"><span class="linenr">3: </span><span style="color: #859900; background-color: #faf1d9; font-weight: bold;">for</span><span style="background-color: #faf1d9;"> (</span><span style="color: #b58900; background-color: #faf1d9; font-style: italic;">int</span><span style="background-color: #faf1d9;"> </span><span style="color: #268bd2; background-color: #faf1d9;">i</span><span style="background-color: #faf1d9;"> = 0; i != 10; i++)</span> (loop)</span>
<span id="coderef-next" class="coderef-off"><span class="linenr">4: </span><span style="background-color: #faf1d9;">   tot *= i;</span> (next)</span>
<span class="linenr">5: </span><span style="background-color: #faf1d9;">printf(</span><span style="color: #2aa198; background-color: #faf1d9;">"The factorial of 10 is %d"</span><span style="background-color: #faf1d9;">, tot);</span>
<span class="linenr">6: </span><span style="background-color: #f7edd0;">#+end_src</span>
</pre>
</div>

<p>
The labels <code>(ref:name)</code> refer to the lines in the source code and can be
referenced with link syntax: <code>[[(name)]]</code>. Hovering over the link, in the HTML
export, will dynamically highlight the corresponding line of code.  To strip-out
the labels from the displayed block, use <code>-r -n</code> in the header so it becomes
<code>#+begin_src C -r -n</code>, now the references become line numbers.
</p>

<p>
Another reason to use Org:
If you use <code>:results raw</code>, you obtain <b>dynamic templates</b> that may use Org-markup:
</p>
<div class="org-src-container">
<pre class="src src-C">printf(<span style="color: #2aa198;">"*bold* +%d+ (strikethrough) /slanted/"</span>, 12345);
</pre>
</div>

<p>
<b>bold</b> <del>12345</del> (strikethrough) <i>slanted</i>
<b>bold</b> <del>12345</del> (strikethrough) <i>slanted</i>
</p>

<p>
Also: Notice that a C program can be run without a <code>main</code> ;-)
</p>

<p>
<b>Mathematics</b>
</p>

<div class="org-src-container">
<pre class="src src-org"><span style="color: #626C6C; font-weight: bold;">$\sin^2 x + \cos^2 x = \int_\pi^{\pi + 1} 1 dx = {3 \over 3}$</span>
</pre>
</div>
<p>
\[ ⇒ \quad \sin^2 x + \cos^2 x = \int_\pi^{\pi + 1} 1 dx = {3 \over 3} \]
</p>

<ul class="org-ul">
<li>Instead of <code>$</code>, use <code>\[...\]</code> to display a formula on its own line, centred.</li>
<li>Captioned equations are numbered and can be referenced via links</li>
</ul>

<div class="org-src-container">
<pre class="src src-org"><span style="color: #35a69c;">#+name: euler</span>
<span style="color: #626C6C; font-weight: bold;">\begin{equation}</span>
<span style="color: #626C6C; font-weight: bold;">e ^ {i \pi} + 1 = 0</span>
<span style="color: #626C6C; font-weight: bold;">\end{equation}</span>

See equation <span style="color: #859900; font-weight: bold; text-decoration: underline;"><a href="euler">[[euler]]</a></span>.
</pre>
</div>
<p>
⇒
</p>
\begin{equation}
\label{orgbec0500}
e ^ {i \pi} + 1 = 0
\end{equation}

<p>
See equation \eqref{orgbec0500}.
</p>
 </details>

<div id="outline-container-org7ed3f44" class="outline-2">
<h2 id="https-github-com-bastibe-org-static-blog-org-static-block"><span class="section-number-2">1</span> Using <a href="https://github.com/bastibe/org-static-blog">org-static-block</a></h2>
<div class="outline-text-2" id="text-https-github-com-bastibe-org-static-blog-org-static-block">
<p>
<a id="org5b6eeaf"></a>
</p>

<p>
Let's use <a href="https://github.com/bastibe/org-static-blog">org-static-block</a> to make our blog. Why?
</p>
<ul class="org-ul">
<li>It's a Lisp program smaller than 900 lines, its source is easy to read and
understand, and, most importantly, it was super easy to get started using it
using the <a href="https://github.com/bastibe/org-static-blog#examples">given example</a>.</li>
</ul>

<p>
Let's declare the necessary basic facts of our blog.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="linenr"> 1: </span>(<span style="color: #859900; font-weight: bold;">setq</span> <span style="color: #268bd2;">org-static-blog-publish-title</span> <span style="color: #2aa198;">"Life &amp; Computing Science"</span>)
<span class="linenr"> 2: </span>(<span style="color: #859900; font-weight: bold;">setq</span> <span style="color: #268bd2;">org-static-blog-publish-url</span> <span style="color: #2aa198;">"https://alhassy.github.io/"</span>)
<span class="linenr"> 3: </span>(<span style="color: #859900; font-weight: bold;">setq</span> <span style="color: #268bd2;">org-static-blog-publish-directory</span> <span style="color: #2aa198;">"~/blog/"</span>)
<span class="linenr"> 4: </span>(<span style="color: #859900; font-weight: bold;">setq</span> <span style="color: #268bd2;">org-static-blog-posts-directory</span> <span style="color: #2aa198;">"~/blog/posts/"</span>)
<span class="linenr"> 5: </span>(<span style="color: #859900; font-weight: bold;">setq</span> <span style="color: #268bd2;">org-static-blog-drafts-directory</span> <span style="color: #2aa198;">"~/blog/drafts/"</span>)
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span><span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">Use &#8220;#+filetags: &#964;&#8321; &#964;&#8322; &#8230; &#964;&#8345;&#8221;</span>
<span class="linenr"> 8: </span>(<span style="color: #859900; font-weight: bold;">setq</span> <span style="color: #268bd2;">org-static-blog-enable-tags</span> <span style="color: #268bd2;">t</span>)
<span class="linenr"> 9: </span>
<span class="linenr">10: </span><span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">I'd like to have tocs and numbered headings</span>
<span class="linenr">11: </span>(<span style="color: #859900; font-weight: bold;">setq</span> <span style="color: #268bd2;">org-export-with-toc</span> <span style="color: #268bd2;">t</span>)
<span class="linenr">12: </span>(<span style="color: #859900; font-weight: bold;">setq</span> <span style="color: #268bd2;">org-export-with-section-numbers</span> <span style="color: #268bd2;">t</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-org6b2766d" class="outline-2">
<h2 id="HTML-Header"><span class="section-number-2">2</span> HTML Header</h2>
<div class="outline-text-2" id="text-HTML-Header">
<p>
<a id="org4f0a6aa"></a>
</p>

<p>
What do we want to be inserted into the head of every page?
</p>

<p>
Firstly, we want some styling rules to be loaded.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="linenr">1: </span>(<span style="color: #b58900;">concat</span>
<span class="linenr">2: </span><span style="color: #2aa198;">"&lt;meta name=\"author\" content=\"Musa Al-hassy ??? \"&gt;</span>
<span class="linenr">3: </span><span style="color: #2aa198;"> &lt;meta name=\"referrer\" content=\"no-referrer\"&gt;"</span>
<span id="coderef-usualCSS" class="coderef-off"><span class="linenr">4: </span><span style="color: #2aa198;">"&lt;link href=\"usual-org-front-matter.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;"</span></span>
<span id="coderef-orgNotesCSS" class="coderef-off"><span class="linenr">5: </span><span style="color: #2aa198;">"&lt;link href=\"org-notes-style.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;"</span></span>
<span id="coderef-tocCSS" class="coderef-off"><span class="linenr">6: </span><span style="color: #2aa198;">"&lt;link href=\"floating-toc.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;"</span></span>
<span id="coderef-bannerCSS" class="coderef-off"><span class="linenr">7: </span><span style="color: #2aa198;">"&lt;link href=\"blog-banner.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;"</span></span>
<span class="linenr">8: </span><span style="color: #2aa198;">"&lt;link rel=\"icon\" href=\"images/favicon.png\"&gt;"</span>)
</pre>
</div>

<dl class="org-dl">
<dt><a href="#coderef-usualCSS" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-usualCSS');" onmouseout="CodeHighlightOff(this, 'coderef-usualCSS');">usual-org-front-matter.css</a> <a href="usual-org-front-matter.css"><img src="https://img.shields.io/badge/--success?logo=css3"></a></dt><dd>Org-static-blog ignores any styling exported by Org, so let's bring that back
in. I just exported this file with the usual <kbd> C-c C-e h o </kbd>, then saved the CSS
it produced.</dd>

<dt><a href="#coderef-orgNotesCSS" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-orgNotesCSS');" onmouseout="CodeHighlightOff(this, 'coderef-orgNotesCSS');">org-notes-style.css</a> <a href="org-notes-style.css"><img src="https://img.shields.io/badge/--success?logo=css3"></a></dt><dd>I like the rose-style of this <a href="http://taopeng.me/org-notes-style/">org-notes-style</a> for HTML export.  However, it
seems loading the CSS directly from its homepage does not work, so I've copied
the CSS file for my blog.</dd>

<dt><a href="#coderef-tocCSS" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-tocCSS');" onmouseout="CodeHighlightOff(this, 'coderef-tocCSS');">floating-toc.css</a> <a href="floating-toc.css"><img src="https://img.shields.io/badge/--success?logo=css3"></a></dt><dd>I want to have an unobtrusive floating table of contents, see
§<a href="#org51ca180">5</a>.</dd>

<dt><a href="#coderef-bannerCSS" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-bannerCSS');" onmouseout="CodeHighlightOff(this, 'coderef-bannerCSS');">blog-banner.css</a> <a href="blog-banner.css"><img src="https://img.shields.io/badge/--success?logo=css3"></a></dt><dd>Finally, we want a beautiful welcome mat, see §<a href="#org6506be6">3</a>.</dd>
</dl>

<p>
In addition, we have two more pieces we would like to add to the header: Support
for <i>dynamic</i> code-line highlighting, §<a href="#org6506be6">3</a>, and support for using
LaTeX-style notation to write mathematics, §<a href="#orged7eee3">4</a>.  We will use a
<a href="https://github.com/alhassy/emacs.d#what-does-literate-programming-look-like">noweb-ref</a> named <code>my-html-header</code> to refer to them, which are then catenated below.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"> (<span style="color: #859900; font-weight: bold;">setq</span> <span style="color: #268bd2;">org-static-blog-page-header</span>
  (<span style="color: #b58900;">concat</span>
   <span style="color: #268bd2;">org-html-head-extra</span>  <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">Alterd by &#8216;</span><span style="color: #6c71c4; font-weight: bold; font-style: italic;">org-special-block-extras</span><span style="color: #96A7A9; font-style: italic;">&#8217;</span>
   &lt;&lt;my-html-header&gt;&gt;
   ))
</pre>
</div>

<p> <span style="border-width:1px;border-style:solid;padding:5px"><strong>[ Warning:</strong></span>




The noweb-ref invocation <code>l &lt;&lt;𝓍𝓈&gt;&gt; r</code> expands into

<div class="org-src-container">
<pre class="src src-emacs-lisp">l &#120013;&#8320; r
l &#120013;&#8321; r
  &#8942;
l &#120013;&#8345; r
</pre>
</div>

Where the <code>𝓍ᵢ</code> are the lines referenced by <code>𝓍𝓈</code>.



<b>As such, we had our reference call, above, in its own line!</b>

 <span style="border-width:1px;border-style:solid;padding:5px"><strong>]</strong></span></p>
</div>
</div>

<div id="outline-container-org2a4d9c3" class="outline-2">
<h2 id="Blog-Banner"><span class="section-number-2">3</span> Blog Banner and Dynamic Code Highlighting</h2>
<div class="outline-text-2" id="text-Blog-Banner">
<p>
<a id="org6506be6"></a>
</p>

<p>
I want to have a nice banner at the top of every page, which should link
to useful parts of my blog.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="linenr"> 1: </span>(<span style="color: #859900; font-weight: bold;">setq</span> <span style="color: #268bd2;">org-static-blog-page-preamble</span>
<span class="linenr"> 2: </span><span style="color: #2aa198;">"&lt;div class=\"header\"&gt;</span>
<span class="linenr"> 3: </span><span style="color: #2aa198;">  &lt;a href=\"https://alhassy.github.io/\" class=\"logo\"&gt;Life &amp; Computing Science&lt;/a&gt;</span>
<span class="linenr"> 4: </span><span style="color: #2aa198;">  &lt;br&gt;</span>
<span class="linenr"> 5: </span><span style="color: #2aa198;">    &lt;a href=\"https://alhassy.github.io/AlBasmala\"&gt;AlBasmala&lt;/a&gt;</span>
<span class="linenr"> 6: </span><span style="color: #2aa198;">    &lt;a href=\"https://alhassy.github.io/archive\"&gt;Archive&lt;/a&gt;</span>
<span class="linenr"> 7: </span><span style="color: #2aa198;">    &lt;a href=\"https://alhassy.github.io/tags\"&gt;Tags&lt;/a&gt;</span>
<span class="linenr"> 8: </span><span style="color: #2aa198;">    &lt;a href=\"https://alhassy.github.io/rss.xml\"&gt;RSS&lt;/a&gt;</span>
<span class="linenr"> 9: </span><span style="color: #2aa198;">    &lt;a href=\"https://alhassy.github.io/about\"&gt;About&lt;/a&gt;</span>
<span class="linenr">10: </span><span style="color: #2aa198;">&lt;/div&gt;"</span>)
</pre>
</div>

<p>
Note that we could have been needlessly more generic by using, say,
<code>(org-static-blog-get-absolute-url org-static-blog-rss-file)</code>,
instead of hardcoding the links.
</p>
<p>
I want to style it as follows:
</p>

<ul class="org-ul">
<li>Line <a href="#coderef-headerHeader" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-headerHeader');" onmouseout="CodeHighlightOff(this, 'coderef-headerHeader');">1</a>: The banner is in a box at the top with some shadowing and
centred text using the <code>fantasy</code> font</li>
<li>Line <a href="#coderef-headerLogo" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-headerLogo');" onmouseout="CodeHighlightOff(this, 'coderef-headerLogo');">13</a>: The blog's title is large and bold</li>
<li>Line <a href="#coderef-headerAnchor" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-headerAnchor');" onmouseout="CodeHighlightOff(this, 'coderef-headerAnchor');">18</a>: All links in the banner are black</li>
<li>Line <a href="#coderef-headerHover" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-headerHover');" onmouseout="CodeHighlightOff(this, 'coderef-headerHover');">25</a>: When you hover over a link, it becomes blue</li>
</ul>

<div class="org-src-container">
<pre class="src src-css"><span id="coderef-headerHeader" class="coderef-off"><span class="linenr"> 1: </span><span style="color: #268bd2;">.header </span>{</span>
<span class="linenr"> 2: </span>  <span style="color: #96A7A9; font-style: italic;">/* </span><span style="color: #96A7A9; font-style: italic;">Try to load &#8216;fantasy&#8217; if possible, else try to load the others. </span><span style="color: #96A7A9; font-style: italic;">*/</span>
<span class="linenr"> 3: </span>  <span style="color: #859900;">font-family</span>: fantasy, monospace, Times;
<span class="linenr"> 4: </span>  <span style="color: #859900;">text-align</span>: center;
<span class="linenr"> 5: </span>  <span style="color: #859900;">overflow</span>: hidden;
<span class="linenr"> 6: </span>  <span style="color: #96A7A9; font-style: italic;">/* </span><span style="color: #96A7A9; font-style: italic;">background-color: #f1f1f1 !important; </span><span style="color: #96A7A9; font-style: italic;">*/</span>
<span class="linenr"> 7: </span>  <span style="color: #96A7A9; font-style: italic;">/* </span><span style="color: #96A7A9; font-style: italic;">background: #4183c4 !important; </span><span style="color: #96A7A9; font-style: italic;">*/</span>
<span class="linenr"> 8: </span>  <span style="color: #859900;">padding-top</span>: 10px;
<span class="linenr"> 9: </span>  <span style="color: #859900;">padding-bottom</span>: 10px;
<span class="linenr">10: </span>  <span style="color: #859900;">box-shadow</span>: 0 2px 10px 2px <span style="color: #ffffff; background-color: #000000;">rgba(0, 0, 0, 0.2)</span>;
<span class="linenr">11: </span>}
<span class="linenr">12: </span>
<span id="coderef-headerLogo" class="coderef-off"><span class="linenr">13: </span><span style="color: #268bd2;">.header a.logo </span>{</span>
<span class="linenr">14: </span>  <span style="color: #859900;">font-size</span>: 50px;
<span class="linenr">15: </span>  <span style="color: #859900;">font-weight</span>: bold;
<span class="linenr">16: </span>}
<span class="linenr">17: </span>
<span id="coderef-headerAnchor" class="coderef-off"><span class="linenr">18: </span><span style="color: #268bd2;">.header a </span>{</span>
<span class="linenr">19: </span>  <span style="color: #859900;">color</span>: <span style="color: #ffffff; background-color: #000000;">black</span>;
<span class="linenr">20: </span>  <span style="color: #859900;">padding</span>: 12px;
<span class="linenr">21: </span>  <span style="color: #859900;">text-decoration</span>: none;
<span class="linenr">22: </span>  <span style="color: #859900;">font-size</span>: 18px;
<span class="linenr">23: </span>}
<span class="linenr">24: </span>
<span id="coderef-headerHover" class="coderef-off"><span class="linenr">25: </span><span style="color: #268bd2;">.header a:hover </span>{</span>
<span class="linenr">26: </span>  <span style="color: #859900;">background-color</span>: <span style="color: #000000; background-color: #ddd;">#ddd</span>;
<span class="linenr">27: </span>  <span style="color: #859900;">background-color</span>: <span style="color: #000000; background-color: #fff;">#fff</span>;
<span class="linenr">28: </span>  <span style="color: #859900;">color</span>: <span style="color: #ffffff; background-color: #4183c4;">#4183c4</span>;
<span class="linenr">29: </span>}
</pre>
</div>

<p>
Notice that as you hover over the references, such as <a href="#coderef-headerLogo" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-headerLogo');" onmouseout="CodeHighlightOff(this, 'coderef-headerLogo');">this</a>, <b>the corresponding
line of code is highlighted!</b> Within a <code>src</code> block, one uses the switches <code>-n -r</code>
to enable references via line numbers, then declares <code>(ref:name)</code> on line
and refers to it by <code>[[(name)][description]]</code>. Org-mode by default styles
such highlighting.
</p>
<details class="code-details"> <summary> <strong> <font face="Courier" size="3" color="green"> Details </font> </strong> </summary> <div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">"&lt;script type=\"text/javascript\"&gt;</span>
<span style="color: #2aa198;">/*</span>
<span style="color: #2aa198;">@licstart  The following is the entire license notice for the</span>
<span style="color: #2aa198;">JavaScript code in this tag.</span>

<span style="color: #2aa198;">Copyright (C) 2012-2020 Free Software Foundation, Inc.</span>

<span style="color: #2aa198;">The JavaScript code in this tag is free software: you can</span>
<span style="color: #2aa198;">redistribute it and/or modify it under the terms of the GNU</span>
<span style="color: #2aa198;">General Public License (GNU GPL) as published by the Free Software</span>
<span style="color: #2aa198;">Foundation, either version 3 of the License, or (at your option)</span>
<span style="color: #2aa198;">any later version.  The code is distributed WITHOUT ANY WARRANTY;</span>
<span style="color: #2aa198;">without even the implied warranty of MERCHANTABILITY or FITNESS</span>
<span style="color: #2aa198;">FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.</span>

<span style="color: #2aa198;">As additional permission under GNU GPL version 3 section 7, you</span>
<span style="color: #2aa198;">may distribute non-source (e.g., minimized or compacted) forms of</span>
<span style="color: #2aa198;">that code without the copy of the GNU GPL normally required by</span>
<span style="color: #2aa198;">section 4, provided you include this license notice and a URL</span>
<span style="color: #2aa198;">through which recipients can access the Corresponding Source.</span>


<span style="color: #2aa198;">@licend  The above is the entire license notice</span>
<span style="color: #2aa198;">for the JavaScript code in this tag.</span>
<span style="color: #2aa198;">*/</span>
<span style="color: #2aa198;">&lt;!--/*--&gt;&lt;![CDATA[/*&gt;&lt;!--*/</span>
<span style="color: #2aa198;"> function CodeHighlightOn(elem, id)</span>
<span style="color: #2aa198;"> {</span>
<span style="color: #2aa198;">   var target = document.getElementById(id);</span>
<span style="color: #2aa198;">   if(null != target) {</span>
<span style="color: #2aa198;">     elem.cacheClassElem = elem.className;</span>
<span style="color: #2aa198;">     elem.cacheClassTarget = target.className;</span>
<span style="color: #2aa198;">     target.className = \"code-highlighted\";</span>
<span style="color: #2aa198;">     elem.className   = \"code-highlighted\";</span>
<span style="color: #2aa198;">   }</span>
<span style="color: #2aa198;"> }</span>
<span style="color: #2aa198;"> function CodeHighlightOff(elem, id)</span>
<span style="color: #2aa198;"> {</span>
<span style="color: #2aa198;">   var target = document.getElementById(id);</span>
<span style="color: #2aa198;">   if(elem.cacheClassElem)</span>
<span style="color: #2aa198;">     elem.className = elem.cacheClassElem;</span>
<span style="color: #2aa198;">   if(elem.cacheClassTarget)</span>
<span style="color: #2aa198;">     target.className = elem.cacheClassTarget;</span>
<span style="color: #2aa198;"> }</span>
<span style="color: #2aa198;">/*]]&gt;*///--&gt;</span>
<span style="color: #2aa198;">&lt;/script&gt;"</span>
</pre>
</div>
 </details>

<p> <span style="border-width:1px;border-style:solid;padding:5px"><strong>[ Remark:</strong></span>

<span style="color:orange;">TODO</span>
Before we move on, I'd like to have heavy red font for links.

<div class="org-src-container">
<pre class="src src-css"><span style="color: #268bd2;">a </span>{<span style="color: #859900;">color</span>:<span style="color: #ffffff; background-color: #DD514C;">#DD514C</span>;<span style="color: #859900;">text-decoration</span>:none;<span style="color: #859900;">font-weight</span>:700}
</pre>
</div>

But this causes the table of contents to be red, which I dislike ლ(ಠ益ಠ)ლ

 <span style="border-width:1px;border-style:solid;padding:5px"><strong>]</strong></span></p>
</div>
</div>

<div id="outline-container-orge55ee63" class="outline-2">
<h2 id="MathJax-Support"><span class="section-number-2">4</span> \(e^{i \cdot \pi} + 1 = 0\) &#x2014;MathJax Support</h2>
<div class="outline-text-2" id="text-MathJax-Support">
<p>
<a id="orged7eee3"></a>
</p>

<p>
Org loads the <a href="https://math.meta.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference">MathJax</a> display engine for mathematics whenever users
write LaTeX-style math delimited by <code>$...$</code> or by <code>\[...\]</code>. Here is an example.
</p>

<details class="code-details"> <summary> <strong> <font face="Courier" size="3" color="green"> Details </font> </strong> </summary> <p>
This is the CSS that Org loads by default.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa198;">"&lt;script type=\"text/x-mathjax-config\"&gt;</span>
<span style="color: #2aa198;">    MathJax.Hub.Config({</span>
<span style="color: #2aa198;">        displayAlign: \"center\",</span>
<span style="color: #2aa198;">        displayIndent: \"0em\",</span>

<span style="color: #2aa198;">        \"HTML-CSS\": { scale: 100,</span>
<span style="color: #2aa198;">                        linebreaks: { automatic: \"false\" },</span>
<span style="color: #2aa198;">                        webFont: \"TeX\"</span>
<span style="color: #2aa198;">                       },</span>
<span style="color: #2aa198;">        SVG: {scale: 100,</span>
<span style="color: #2aa198;">              linebreaks: { automatic: \"false\" },</span>
<span style="color: #2aa198;">              font: \"TeX\"},</span>
<span style="color: #2aa198;">        NativeMML: {scale: 100},</span>
<span style="color: #2aa198;">        TeX: { equationNumbers: {autoNumber: \"AMS\"},</span>
<span style="color: #2aa198;">               MultLineWidth: \"85%\",</span>
<span style="color: #2aa198;">               TagSide: \"right\",</span>
<span style="color: #2aa198;">               TagIndent: \".8em\"</span>
<span style="color: #2aa198;">             }</span>
<span style="color: #2aa198;">});</span>
<span style="color: #2aa198;">&lt;/script&gt;</span>
<span style="color: #2aa198;">&lt;script type=\"text/javascript\"</span>
<span style="color: #2aa198;">        src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML\"&gt;&lt;/script&gt;</span>
<span style="color: #2aa198;">"</span>
</pre>
</div>
 </details>

<p>
\[ p ⊓ q = p \quad ≡ \quad p ⊔ q = q \label{Golden-Rule}\tag{Golden-Rule}\]
</p>

<p>
Look at \ref{Golden-Rule}, it says, when specialised to numbers, <i>the minimum
of two items is the first precisely when the maximum of the two is the second</i>
&#x2014;d'uh!
</p>

<p> <span style="border-width:1px;border-style:solid;padding:5px"><strong>[ Warning:</strong></span>




We can make an equation ℰ named 𝒩 and refer to it by ℒ by declaring
<code>\[ℰ \tag{𝒩} \label{ℒ} \]</code> then refer to it with <code>\ref{ℒ}</code>.  However, if 𝒩 contains
Unicode, then the reference will not generally be ‘clickable’ &#x2014;it wont take
you to the equation's declaration site.  For example, \ref{⊑-Definition} below
has Unicode in both its tag and label, and so clicking that link wont go
anywhere, whereas \ref{Order-Definition} has Unicode only in its tag, with the
label being <code>\label{Order-Definition}</code>, and clicking it takes you to the formula.



\[ p ⊑ q \quad ≡ \quad p ⊓ q = p \tag{⊑-Definition}\label{⊑-Definition} \]
\[ p ⊑ q \quad ≡ \quad p ⊔ q = q \tag{⊑-Definition}\label{Order-Definition} \]

 <span style="border-width:1px;border-style:solid;padding:5px"><strong>]</strong></span></p>

<p>
The following rule for anchors <code>a {⋯}</code> resurrects <code>\ref{}</code> calls via MathJax
&#x2014;which <code>org-notes-style</code> kills.
</p>
<div class="org-src-container">
<pre class="src src-css"><span style="color: #268bd2;">a </span>{ <span style="color: #859900;">white-space</span>: pre <span style="color: #d33682; font-style: italic;">!important</span>; }
</pre>
</div>
</div>
</div>

<div id="outline-container-orge536ee2" class="outline-2">
<h2 id="Floating-TOC"><span class="section-number-2">5</span> Ξ: Floating <i>Table of Contents</i></h2>
<div class="outline-text-2" id="text-Floating-TOC">
<p>
<a id="org51ca180"></a>
</p>

<p>
I would like to have a table of contents that floats so that it is accessible to
the reader in case they want to jump elsewhere in the document quickly
&#x2014;possibly going to the top of the document.
</p>

<p>
When we write <code>#+toc: headlines 2</code> in our Org, HTML export produces the following.
</p>
<div class="org-src-container">
<pre class="src src-html"><span class="linenr"> 1: </span>&lt;<span style="color: #b58900;">div</span> <span style="color: #268bd2;">id</span>=<span style="color: #2aa198;">"table-of-contents"</span>&gt;
<span class="linenr"> 2: </span>  &lt;<span style="color: #b58900;">h2</span>&gt;<span style="font-weight: bold; font-style: italic; text-decoration: underline;">Table of Contents</span>&lt;/<span style="color: #b58900;">h2</span>&gt;
<span class="linenr"> 3: </span>  &lt;<span style="color: #b58900;">div</span> <span style="color: #268bd2;">id</span>=<span style="color: #2aa198;">"text-table-of-contents"</span>&gt;
<span class="linenr"> 4: </span>    &lt;<span style="color: #b58900;">ul</span>&gt;
<span class="linenr"> 5: </span>      &lt;<span style="color: #b58900;">li</span>&gt; section 1 &lt;/<span style="color: #b58900;">li</span>&gt;
<span class="linenr"> 6: </span>             &#8942;
<span class="linenr"> 7: </span>      &lt;<span style="color: #b58900;">li</span>&gt; section &#120003; &lt;/<span style="color: #b58900;">li</span>&gt;
<span class="linenr"> 8: </span>    &lt;/<span style="color: #b58900;">ul</span>&gt;
<span class="linenr"> 9: </span>  &lt;/<span style="color: #b58900;">div</span>&gt;
<span class="linenr">10: </span>&lt;/<span style="color: #b58900;">div</span>&gt;
</pre>
</div>
<p>
Hence, we can style the table of contents by writing rules that target those
<code>id</code>'s. We use the following rules, adapted from <a href="https://orgmode.org/worg/">the Worg community</a>.
</p>
<div class="org-src-container">
<pre class="src src-css"><span class="linenr"> 1: </span><span style="color: #96A7A9; font-style: italic;">/*</span><span style="color: #96A7A9; font-style: italic;">TOC inspired by https://orgmode.org/worg/ </span><span style="color: #96A7A9; font-style: italic;">*/</span>
<span class="linenr"> 2: </span><span style="color: #268bd2;">#table-of-contents </span>{
<span class="linenr"> 3: </span>    <span style="color: #96A7A9; font-style: italic;">/* </span><span style="color: #96A7A9; font-style: italic;">Place the toc in the top right corner </span><span style="color: #96A7A9; font-style: italic;">*/</span>
<span class="linenr"> 4: </span>    <span style="color: #859900;">position</span>: fixed; <span style="color: #859900;">right</span>: 0em; <span style="color: #859900;">top</span>: 0em;
<span class="linenr"> 5: </span>    <span style="color: #859900;">margin-top</span>: 120px; <span style="color: #96A7A9; font-style: italic;">/* </span><span style="color: #96A7A9; font-style: italic;">offset from the top of the screen </span><span style="color: #96A7A9; font-style: italic;">*/</span>
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>    <span style="color: #96A7A9; font-style: italic;">/* </span><span style="color: #96A7A9; font-style: italic;">It shrinks and grows as necessary </span><span style="color: #96A7A9; font-style: italic;">*/</span>
<span class="linenr"> 8: </span>    <span style="color: #859900;">padding</span>: 0em <span style="color: #d33682; font-style: italic;">!important</span>;
<span class="linenr"> 9: </span>    <span style="color: #859900;">width</span>: auto <span style="color: #d33682; font-style: italic;">!important</span>;
<span class="linenr">10: </span>    <span style="color: #859900;">min-width</span>: auto <span style="color: #d33682; font-style: italic;">!important</span>;
<span class="linenr">11: </span>
<span class="linenr">12: </span>    <span style="color: #859900;">font-size</span>: 10pt;
<span class="linenr">13: </span>    <span style="color: #859900;">background</span>: <span style="color: #000000; background-color: #ffffff;">white</span>;
<span class="linenr">14: </span>    <span style="color: #859900;">line-height</span>: 12pt;
<span class="linenr">15: </span>    <span style="color: #859900;">text-align</span>: right;
<span class="linenr">16: </span>
<span class="linenr">17: </span>    <span style="color: #859900;">box-shadow</span>: 0 0 1em <span style="color: #ffffff; background-color: #777777;">#777777</span>;
<span class="linenr">18: </span>    <span style="color: #cb4b16;">-webkit-box-shadow</span>: 0 0 1em <span style="color: #ffffff; background-color: #777777;">#777777</span>;
<span class="linenr">19: </span>    <span style="color: #cb4b16;">-moz-box-shadow</span>: 0 0 1em <span style="color: #ffffff; background-color: #777777;">#777777</span>;
<span class="linenr">20: </span>    <span style="color: #cb4b16;">-webkit-border-bottom-left-radius</span>: 5px;
<span class="linenr">21: </span>    <span style="color: #cb4b16;">-moz-border-radius-bottomleft</span>: 5px;
<span class="linenr">22: </span>
<span class="linenr">23: </span>    <span style="color: #96A7A9; font-style: italic;">/* </span><span style="color: #96A7A9; font-style: italic;">Ensure doesn't flow off the screen when expanded </span><span style="color: #96A7A9; font-style: italic;">*/</span>
<span class="linenr">24: </span>    <span style="color: #859900;">max-height</span>: 80%;
<span class="linenr">25: </span>    <span style="color: #859900;">overflow</span>: auto;}
<span class="linenr">26: </span>
<span class="linenr">27: </span><span style="color: #96A7A9; font-style: italic;">/* </span><span style="color: #96A7A9; font-style: italic;">How big is the text &#8220;Table of Contents&#8221; and space around it </span><span style="color: #96A7A9; font-style: italic;">*/</span>
<span class="linenr">28: </span><span style="color: #268bd2;">#table-of-contents h2 </span>{
<span class="linenr">29: </span>    <span style="color: #859900;">font-size</span>: 13pt;
<span class="linenr">30: </span>    <span style="color: #859900;">max-width</span>: 9em;
<span class="linenr">31: </span>    <span style="color: #859900;">border</span>: 0;
<span class="linenr">32: </span>    <span style="color: #859900;">font-weight</span>: normal;
<span class="linenr">33: </span>    <span style="color: #859900;">padding-left</span>: 0.5em;
<span class="linenr">34: </span>    <span style="color: #859900;">padding-right</span>: 0.5em;
<span class="linenr">35: </span>    <span style="color: #859900;">padding-top</span>: 0.05em;
<span class="linenr">36: </span>    <span style="color: #859900;">padding-bottom</span>: 0.05em; }
<span class="linenr">37: </span>
<span class="linenr">38: </span><span style="color: #96A7A9; font-style: italic;">/* </span><span style="color: #96A7A9; font-style: italic;">Intially have the TOC folded up; show it if the mouse hovers it </span><span style="color: #96A7A9; font-style: italic;">*/</span>
<span class="linenr">39: </span><span style="color: #268bd2;">#table-of-contents #text-table-of-contents </span>{
<span class="linenr">40: </span>    <span style="color: #859900;">display</span>: none;
<span class="linenr">41: </span>    <span style="color: #859900;">text-align</span>: left; }
<span class="linenr">42: </span>
<span class="linenr">43: </span><span style="color: #268bd2;">#table-of-contents:hover #text-table-of-contents </span>{
<span class="linenr">44: </span>    <span style="color: #859900;">display</span>: block;
<span class="linenr">45: </span>    <span style="color: #859900;">padding</span>: 0.5em;
<span class="linenr">46: </span>    <span style="color: #859900;">margin-top</span>: -1.5em; }
</pre>
</div>

<p> <span style="border-width:1px;border-style:solid;padding:5px"><strong>[ Strange:</strong></span>

If I zoom in over 100% in my browser, the toc disappears until I zoom out.

 <span style="border-width:1px;border-style:solid;padding:5px"><strong>]</strong></span></p>

<p>
Since the table of contents floats, the phrase <i>Table of Contents</i> is rather
‘in your face’, so let's use the more subtle Greek <a href="https://en.wikipedia.org/wiki/Xi_(letter)">letter</a> <code>Ξ</code>.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="linenr"> 1: </span>(<span style="color: #b58900;">advice-add</span> '<span style="color: #b58900;">org-html--translate</span> <span style="color: #d33682; font-style: italic;">:before-until</span> '<span style="color: #b58900;">display-toc-as-&#926;</span>)
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">(advice-remove 'org-html--translate 'display-toc-as-&#926;)</span>
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span>(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #b58900;">display-toc-as-&#926;</span> (phrase <span style="color: #b58900;">info</span>)
<span class="linenr"> 6: </span>  (<span style="color: #859900; font-weight: bold;">when</span> (<span style="color: #b58900;">equal</span> phrase <span style="color: #2aa198;">"Table of Contents"</span>)
<span class="linenr"> 7: </span>    (<span style="color: #b58900;">s-collapse-whitespace</span>
<span class="linenr"> 8: </span>    <span style="color: #2aa198;">"&lt;a href=\"javascript:window.scrollTo(0,0)\"</span>
<span class="linenr"> 9: </span><span style="color: #2aa198;">        style=\"color: black !important; border-bottom: none !important;\"</span>
<span class="linenr">10: </span><span style="color: #2aa198;">        class=\"tooltip\"</span>
<span class="linenr">11: </span><span style="color: #2aa198;">        title=\"Go to the top of the page\"&gt;</span>
<span class="linenr">12: </span><span style="color: #2aa198;">      &#926;</span>
<span class="linenr">13: </span><span style="color: #2aa198;">    &lt;/a&gt;"</span>)))
</pre>
</div>

<p>
How did I get here?
</p>
<ol class="org-ol">
<li>How does Org's HTML export TOCs? ⇒ <abbr class="tooltip" title="Build a table of contents.<br>DEPTH is an integer specifying the depth of the table.&emsp;INFO is<br>a plist used as a communication channel.&emsp;Optional argument SCOPE<br>is an element defining the scope of the table.&emsp;Return the table<br>of contents as a string, or nil if it is empty.<br><br>(fn DEPTH INFO &optional SCOPE)">org-html-toc</abbr></li>
<li>Looking at its source, we see <abbr class="tooltip" title="This function has :before-until advice: ‘display-toc-as-Ξ’.<br><br>Translate string S according to specified language.<br>INFO is a plist used as a communication channel.<br><br>(fn S INFO)">org-html--translate</abbr> being
the only place mentioning the string <i>Table of Contents</i></li>
<li>Let's advise it, with <abbr class="tooltip" title="Like ‘add-function’ but for the function named SYMBOL.<br>Contrary to ‘add-function’, this will properly handle the cases where SYMBOL<br>is defined as a macro, alias, command, ...<br><br>(fn SYMBOL WHERE FUNCTION &optional PROPS)">advice-add</abbr>, to return <i>Ξ</i>
<i>only</i> on that particular input string.</li>
<li>Joy ♥‿♥</li>
</ol>
</div>
</div>

<div id="outline-container-orgd0f9bb5" class="outline-2">
<h2 id="HTML-Footer"><span class="section-number-2">6</span> HTML Footer: Comments</h2>
<div class="outline-text-2" id="text-HTML-Footer">
<p>
<a id="orgb3b4a01"></a>
</p>

<p>
At the bottom of every page, let's have a licensing stub
and a <a href="https://disqus.com/">Disqus</a>-powered comments section.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="linenr"> 1: </span>(<span style="color: #859900; font-weight: bold;">setq</span> <span style="color: #268bd2;">org-static-blog-page-postamble</span>
<span class="linenr"> 2: </span>(<span style="color: #b58900;">s-collapse-whitespace</span> (<span style="color: #b58900;">s-replace</span> <span style="color: #2aa198;">"\n"</span> <span style="color: #2aa198;">""</span>
<span class="linenr"> 3: </span><span style="color: #2aa198;">"</span>
<span class="linenr"> 4: </span><span style="color: #2aa198;">&lt;center&gt;</span>
<span class="linenr"> 5: </span><span style="color: #2aa198;">  &lt;a rel=\"license\" href=\"https://creativecommons.org/licenses/by-sa/3.0/\"&gt;</span>
<span class="linenr"> 6: </span><span style="color: #2aa198;">     &lt;img alt=\"Creative Commons License\" style=\"border-width:0\"</span>
<span class="linenr"> 7: </span><span style="color: #2aa198;">          src=\"https://i.creativecommons.org/l/by-sa/3.0/88x31.png\"/&gt;</span>
<span class="linenr"> 8: </span><span style="color: #2aa198;">  &lt;/a&gt;</span>
<span class="linenr"> 9: </span>
<span class="linenr">10: </span><span style="color: #2aa198;">  &lt;br/&gt;</span>
<span class="linenr">11: </span><span style="color: #2aa198;">  &lt;span xmlns:dct=\"https://purl.org/dc/terms/\"</span>
<span class="linenr">12: </span><span style="color: #2aa198;">        href=\"https://purl.org/dc/dcmitype/Text\"</span>
<span class="linenr">13: </span><span style="color: #2aa198;">        property=\"dct:title\" rel=\"dct:type\"&gt;</span>
<span class="linenr">14: </span><span style="color: #2aa198;">     &lt;em&gt;Life &amp; Computing Science&lt;/em&gt;</span>
<span class="linenr">15: </span><span style="color: #2aa198;">  &lt;/span&gt;</span>
<span class="linenr">16: </span>
<span class="linenr">17: </span><span style="color: #2aa198;">  by</span>
<span class="linenr">18: </span><span style="color: #2aa198;">  &lt;a xmlns:cc=\"https://creativecommons.org/ns#\"</span>
<span class="linenr">19: </span><span style="color: #2aa198;">  href=\"https://alhassy.github.io/\"</span>
<span class="linenr">20: </span><span style="color: #2aa198;">  property=\"cc:attributionName\" rel=\"cc:attributionURL\"&gt;</span>
<span class="linenr">21: </span><span style="color: #2aa198;">    Musa Al-hassy</span>
<span class="linenr">22: </span><span style="color: #2aa198;">  &lt;/a&gt;</span>
<span class="linenr">23: </span>
<span class="linenr">24: </span><span style="color: #2aa198;">  is licensed under a</span>
<span class="linenr">25: </span><span style="color: #2aa198;">  &lt;a rel=\"license\" href=\"https://creativecommons.org/licenses/by-sa/3.0/\"&gt;</span>
<span class="linenr">26: </span><span style="color: #2aa198;">    Creative Commons Attribution-ShareAlike 3.0 Unported License.</span>
<span class="linenr">27: </span><span style="color: #2aa198;">  &lt;/a&gt;</span>
<span class="linenr">28: </span><span style="color: #2aa198;">&lt;/center&gt;</span>
<span class="linenr">29: </span>
<span class="linenr">30: </span><span style="color: #2aa198;">&lt;div id=\"disqus_thread\"&gt;&lt;/div&gt;</span>
<span class="linenr">31: </span><span style="color: #2aa198;">&lt;script type=\"text/javascript\"&gt;</span>
<span class="linenr">32: </span><span style="color: #2aa198;">/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */</span>
<span class="linenr">33: </span><span style="color: #2aa198;">var disqus_shortname = 'life-and-computing-science';</span>
<span class="linenr">34: </span><span style="color: #2aa198;">/* * * DON'T EDIT BELOW THIS LINE * * */</span>
<span class="linenr">35: </span><span style="color: #2aa198;">(function() {</span>
<span class="linenr">36: </span><span style="color: #2aa198;">  var dsq = document.createElement('script');</span>
<span class="linenr">37: </span><span style="color: #2aa198;">  dsq.type = 'text/javascript';</span>
<span class="linenr">38: </span><span style="color: #2aa198;">  dsq.async = true;</span>
<span class="linenr">39: </span><span style="color: #2aa198;">  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';</span>
<span class="linenr">40: </span><span style="color: #2aa198;">  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);</span>
<span class="linenr">41: </span><span style="color: #2aa198;">    })();</span>
<span class="linenr">42: </span><span style="color: #2aa198;">&lt;/script&gt;</span>
<span class="linenr">43: </span><span style="color: #2aa198;">&lt;noscript&gt;Please enable JavaScript to view the</span>
<span class="linenr">44: </span><span style="color: #2aa198;">    &lt;a href=\"http://disqus.com/?ref_noscript\"&gt;comments powered by Disqus.&lt;/a&gt;&lt;/noscript&gt;</span>
<span class="linenr">45: </span><span style="color: #2aa198;">&lt;a href=\"http://disqus.com\" class=\"dsq-brlink\"&gt;comments powered by &lt;span class=\"logo-disqus\"&gt;Disqus&lt;/span&gt;&lt;/a&gt;"</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org4823ce5" class="outline-2">
<h2 id="Images"><span class="section-number-2">7</span> Article Headers &amp; Images</h2>
<div class="outline-text-2" id="text-Images">
<p>
<a id="orgeb5a4ab"></a>
</p>

<p>
Every article declaratively has an associated image ^_^
</p>
<ul class="org-ul">
<li>If none declared, we use <code>emacs-birthday-present.png</code> :-)</li>
<li>Images are loaded from the <code>~/blog/images/</code> directory.</li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="linenr"> 1: </span>(<span style="color: #859900; font-weight: bold;">cl-defun</span> <span style="color: #b58900;">my/org-static-blog-assemble-image</span> (file)
<span class="linenr"> 2: </span><span style="color: #35a69c; font-style: italic;">"Assemble the value of &#8216;#+fileimage: image width height border?&#8217; as an HTML form."</span>
<span class="linenr"> 3: </span>(<span style="color: #859900; font-weight: bold;">with-temp-buffer</span>
<span class="linenr"> 4: </span>  (<span style="color: #b58900;">insert-file-contents</span> file)
<span class="linenr"> 5: </span>  (<span style="color: #b58900;">goto-char</span> 0)
<span class="linenr"> 6: </span>  (<span style="color: #b58900;">search-forward-regexp</span> <span style="color: #2aa198;">"^\\#\\+fileimage: </span><span style="color: #268bd2; font-weight: bold;">\\</span><span style="color: #268bd2; font-weight: bold;">(</span><span style="color: #2aa198;">.*</span><span style="color: #268bd2; font-weight: bold;">\\</span><span style="color: #268bd2; font-weight: bold;">)</span><span style="color: #2aa198;">"</span> nil <span style="color: #268bd2;">t</span>)
<span class="linenr"> 7: </span>  (<span style="color: #859900; font-weight: bold;">-let</span> [(image width height no-border?)
<span class="linenr"> 8: </span>         (<span style="color: #b58900;">s-split</span> <span style="color: #2aa198;">" "</span> (<span style="color: #b58900;">substring-no-properties</span>
<span class="linenr"> 9: </span>                       (<span style="color: #859900; font-weight: bold;">or</span> (<span style="color: #b58900;">match-string</span> 1)
<span class="linenr">10: </span>                           <span style="color: #2aa198;">"emacs-birthday-present.png"</span>)))]
<span class="linenr">11: </span>    (<span style="color: #859900; font-weight: bold;">setq</span> width (<span style="color: #859900; font-weight: bold;">or</span> width 350))
<span class="linenr">12: </span>    (<span style="color: #859900; font-weight: bold;">setq</span> height (<span style="color: #859900; font-weight: bold;">or</span> height 350))
<span class="linenr">13: </span>    (<span style="color: #859900; font-weight: bold;">setq</span> no-border? (<span style="color: #859900; font-weight: bold;">if</span> no-border? <span style="color: #2aa198;">""</span> <span style="color: #2aa198;">"style=\"border: 2px solid black;\""</span>))
<span class="linenr">14: </span>    (<span style="color: #b58900;">format</span> <span style="color: #2aa198;">"&lt;center&gt; &lt;img src=\"images/%s\" alt=\"Article image\"</span>
<span class="linenr">15: </span><span style="color: #2aa198;">            %s width=\"%s\" height=\"%s\" align=\"top\" /&gt; &lt;/center&gt;"</span>
<span class="linenr">16: </span>            image no-border? width height))))
</pre>
</div>

<p>
To make use of <code>org-notes-style</code>, I need the title to use the <code>title</code> class
but <code>org-static-blog</code> uses the <code>post-title</code> blog, so I'll override the
<code>org-static-blog</code> preamble method to simply use an auxiliary div.
</p>
<ul class="org-ul">
<li>Along the way, I'll position the article image under the article's title.</li>
<li>Line <a href="#coderef-fixTitle" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-fixTitle');" onmouseout="CodeHighlightOff(this, 'coderef-fixTitle');">8</a>: <code>org-notes-style</code> has too much vertical space after the title,
let's reduce it so that the article's data can follow it smoothly.</li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="linenr"> 1: </span>(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #b58900;">org-static-blog-post-preamble</span> (post-filename)
<span class="linenr"> 2: </span>  <span style="color: #35a69c; font-style: italic;">"Returns the formatted date and headline of the post.</span>
<span class="linenr"> 3: </span><span style="color: #35a69c; font-style: italic;">This function is called for every post and prepended to the post body.</span>
<span class="linenr"> 4: </span><span style="color: #35a69c; font-style: italic;">Modify this function if you want to change a posts headline."</span>
<span class="linenr"> 5: </span>  (<span style="color: #b58900;">concat</span>
<span class="linenr"> 6: </span>   <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">The title</span>
<span class="linenr"> 7: </span>   <span style="color: #2aa198;">"&lt;h1 class=\"post-title\"&gt;"</span>
<span id="coderef-fixTitle" class="coderef-off"><span class="linenr"> 8: </span>   <span style="color: #2aa198;">"&lt;div class=\"title\" style=\"margin: 0 0 0 0 !important;\"&gt;"</span></span>
<span class="linenr"> 9: </span>   <span style="color: #2aa198;">"&lt;a href=\""</span> (<span style="color: #b58900;">org-static-blog-get-post-url</span> post-filename) <span style="color: #2aa198;">"\"&gt;"</span>
<span class="linenr">10: </span>   (<span style="color: #b58900;">org-static-blog-get-title</span> post-filename)
<span class="linenr">11: </span>   <span style="color: #2aa198;">"&lt;/a&gt;"</span>
<span class="linenr">12: </span>   <span style="color: #2aa198;">"&lt;/h1&gt;&lt;/div&gt;"</span>
<span class="linenr">13: </span>   <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">Move to the footer? Near the &#8216;</span><span style="color: #6c71c4; font-weight: bold; font-style: italic;">Tags</span><span style="color: #96A7A9; font-style: italic;">&#8217; of the article?</span>
<span class="linenr">14: </span>   <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">The date</span>
<span class="linenr">15: </span>   <span style="color: #2aa198;">"&lt;div style=\"text-align: center;\"&gt;"</span>
<span class="linenr">16: </span>   (<span style="color: #b58900;">format-time-string</span> (<span style="color: #b58900;">org-static-blog-gettext</span> 'date-format)
<span class="linenr">17: </span>                       (<span style="color: #b58900;">org-static-blog-get-date</span> post-filename))
<span class="linenr">18: </span>   <span style="color: #2aa198;">"&lt;/div&gt;"</span>
<span class="linenr">19: </span>   <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">The article's image</span>
<span class="linenr">20: </span>   (<span style="color: #b58900;">my/org-static-blog-assemble-image</span> post-filename)
<span class="linenr">21: </span>   <span style="color: #2aa198;">"&lt;br&gt;&lt;center&gt;&lt;strong&gt;Abstract&lt;/strong&gt;&lt;/center&gt;"</span>))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf98780c" class="outline-2">
<h2 id="Article-Footers"><span class="section-number-2">8</span> Article Footers</h2>
<div class="outline-text-2" id="text-Article-Footers">
<p>
<a id="org833de1f"></a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="linenr"> 1: </span>(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #b58900;">org-static-blog-post-postamble</span> (post-filename)
<span class="linenr"> 2: </span>  <span style="color: #35a69c; font-style: italic;">"Returns the tag list and comment box at the end of a post.</span>
<span class="linenr"> 3: </span><span style="color: #35a69c; font-style: italic;">This function is called for every post and the returned string is</span>
<span class="linenr"> 4: </span><span style="color: #35a69c; font-style: italic;">appended to the post body, and includes the tag list generated by</span>
<span class="linenr"> 5: </span><span style="color: #35a69c; font-style: italic;">followed by the HTML code for comments."</span>
<span class="linenr"> 6: </span><span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">Generate an htmlized version of the source file</span>
<span class="linenr"> 7: </span>(<span style="color: #859900; font-weight: bold;">let</span> ((<span style="color: #268bd2;">org-hide-block-startup</span> nil))
<span class="linenr"> 8: </span>  (<span style="color: #859900; font-weight: bold;">with-temp-buffer</span>
<span class="linenr"> 9: </span>    (<span style="color: #b58900;">find-file</span> post-filename)
<span class="linenr">10: </span>    <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">(insert "\n#+HTML_HEAD: &lt;link href=\"../doom-solarized-light.css\" rel=\"stylesheet\"&gt;\n")</span>
<span class="linenr">11: </span>    (<span style="color: #b58900;">org-mode</span>)
<span class="linenr">12: </span>    (<span style="color: #b58900;">outline-show-all</span>)
<span class="linenr">13: </span>    (<span style="color: #b58900;">switch-to-buffer</span> (<span style="color: #b58900;">htmlize-buffer</span>))
<span class="linenr">14: </span>    (<span style="color: #b58900;">write-file</span> (<span style="color: #b58900;">concat</span> <span style="color: #2aa198;">"~/blog/"</span> (<span style="color: #b58900;">f-base</span> post-filename) <span style="color: #2aa198;">".org.html"</span>))
<span class="linenr">15: </span>    (<span style="color: #b58900;">kill-buffer</span>)))
<span class="linenr">16: </span>  <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">Actual bottom matter</span>
<span class="linenr">17: </span>  (<span style="color: #b58900;">concat</span>
<span class="linenr">18: </span>   <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">Tags</span>
<span class="linenr">19: </span>   <span style="color: #2aa198;">"&lt;div class=\"taglist\"&gt;"</span>
<span class="linenr">20: </span>   (<span style="color: #b58900;">org-static-blog-post-taglist</span> post-filename)
<span class="linenr">21: </span>   <span style="color: #2aa198;">"&lt;/div&gt;"</span>
<span class="linenr">22: </span>   <span style="color: #96A7A9; font-style: italic;">;;</span>
<span class="linenr">23: </span>   <span style="color: #2aa198;">"&lt;center&gt;&lt;strong&gt; Generated by Emacs and Org-mode (&#8226;&#768;&#7447;&#8226;&#769;)&#1608; &lt;/strong&gt;&lt;/center&gt;"</span>
<span class="linenr">24: </span>   <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">Link to source and history</span>
<span class="linenr">25: </span>   <span style="color: #2aa198;">"&lt;center&gt;"</span>
<span class="linenr">26: </span>   <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">"&lt;a href=\"https://raw.githubusercontent.com/alhassy/alhassy.github.io/master/posts/"</span>
<span class="linenr">27: </span>   <span style="color: #2aa198;">"&lt;a href=\""</span>
<span class="linenr">28: </span>   (<span style="color: #b58900;">f-base</span> post-filename) <span style="color: #2aa198;">".org.html\"&gt;&lt;img</span>
<span class="linenr">29: </span><span style="color: #2aa198;">   src=\"https://img.shields.io/badge/-Source-informational?logo=read-the-docs\"&gt;&lt;/a&gt;"</span>
<span class="linenr">30: </span>   <span style="color: #2aa198;">"&amp;emsp;"</span>
<span class="linenr">31: </span>   <span style="color: #2aa198;">"&lt;a href=\"https://github.com/alhassy/alhassy.github.io/commits/master/"</span>
<span class="linenr">32: </span>   <span style="color: #2aa198;">"posts/"</span> (<span style="color: #b58900;">f-base</span> post-filename) <span style="color: #2aa198;">".org\"&gt;&lt;img</span>
<span class="linenr">33: </span><span style="color: #2aa198;">   src=\"https://img.shields.io/badge/-History-informational?logo=github\"&gt;&lt;/a&gt;"</span>
<span class="linenr">34: </span>   <span style="color: #2aa198;">"&lt;br&gt;"</span>
<span class="linenr">35: </span>   <span style="color: #2aa198;">"&lt;a href=\"https://www.buymeacoffee.com/alhassy\"&gt;&lt;img src="</span>
<span class="linenr">36: </span>   <span style="color: #2aa198;">"\"https://img.shields.io/badge/-buy_me_a%C2%A0coffee-gray?logo=buy-me-a-coffee\"&gt;"</span>
<span class="linenr">37: </span>   <span style="color: #2aa198;">"&lt;/a&gt;"</span>
<span class="linenr">38: </span>   <span style="color: #2aa198;">"&lt;/center&gt;"</span>
<span class="linenr">39: </span>   <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">Comments</span>
<span class="linenr">40: </span>   (<span style="color: #859900; font-weight: bold;">if</span> (<span style="color: #b58900;">string=</span> <span style="color: #268bd2;">org-static-blog-post-comments</span> <span style="color: #2aa198;">""</span>)
<span class="linenr">41: </span>       <span style="color: #2aa198;">""</span>
<span class="linenr">42: </span>     (<span style="color: #b58900;">concat</span> <span style="color: #2aa198;">"\n&lt;div id=\"comments\"&gt;"</span>
<span class="linenr">43: </span>             <span style="color: #268bd2;">org-static-blog-post-comments</span>
<span class="linenr">44: </span>             <span style="color: #2aa198;">"&lt;/div&gt;"</span>))))
</pre>
</div>

<p> <span style="border-width:1px;border-style:solid;padding:5px"><strong>[ ლ(ಠ益ಠ)ლ:</strong></span>




I want to consistently use the same theme to htmlize Org source, rather than the
<i>current session's</i> theme.

 <span style="border-width:1px;border-style:solid;padding:5px"><strong>]</strong></span></p>
</div>
</div>

<div id="outline-container-orgd1e0388" class="outline-2">
<h2 id="multipost-pages"><span class="section-number-2">9</span> The Index Page</h2>
<div class="outline-text-2" id="text-multipost-pages">
<p>
<a id="org32e8eae"></a>
</p>

<p>
I'd like to be able to quickly change the blurb on the index page, so we make a
variable for that &#x2014;consisting of Org-markup.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="linenr">1: </span>(<span style="color: #859900; font-weight: bold;">setq</span> index-content-header
<span class="linenr">2: </span>  (<span style="color: #b58900;">concat</span>
<span class="linenr">3: </span>   <span style="color: #2aa198;">"Here are some of my latest thoughts..."</span>
<span class="linenr">4: </span>   <span style="color: #2aa198;">" badge:Made_with|Lisp such as doc:thread-first and doc:loop (&#8226;&#768;&#7447;&#8226;&#769;)&#1608;"</span>
<span class="linenr">5: </span>   <span style="color: #2aa198;">" tweet:https://alhassy.github.io/"</span>))
</pre>
</div>

<p>
The index page is a multipost page, so I'll override the
<code>org-static-blog-assemble-multipost-page</code> method so that articles are
summarised by their title, data &amp; image, ‘abstract’, and a read-more badge.
</p>
<ul class="org-ul">
<li>Every article is intended to have a section named <code>Abstract</code>, whose contents
are used as the preview of the article. See §<a href="#orgce05ea3">11</a> for a template.</li>
</ul>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="linenr"> 1: </span>(<span style="color: #859900; font-weight: bold;">setq</span> show-reading-time nil)
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span>(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #b58900;">org-static-blog-assemble-multipost-page</span>
<span class="linenr"> 4: </span>    (pub-filename post-filenames <span style="color: #b58900; font-style: italic;">&amp;optional</span> front-matter)
<span class="linenr"> 5: </span>  <span style="color: #35a69c; font-style: italic;">"Assemble a page that contains multiple posts one after another.</span>
<span class="linenr"> 6: </span><span style="color: #35a69c; font-style: italic;">Posts are sorted in descending time."</span>
<span class="linenr"> 7: </span>  (<span style="color: #859900; font-weight: bold;">setq</span> post-filenames
<span class="linenr"> 8: </span>        (<span style="color: #b58900;">sort</span> post-filenames (<span style="color: #859900; font-weight: bold;">lambda</span> (x y)
<span class="linenr"> 9: </span>                               (<span style="color: #b58900;">time-less-p</span> (<span style="color: #b58900;">org-static-blog-get-date</span> y)
<span class="linenr">10: </span>                                            (<span style="color: #b58900;">org-static-blog-get-date</span> x)))))
<span class="linenr">11: </span>  (<span style="color: #859900; font-weight: bold;">with-temp-buffer</span>
<span class="linenr">12: </span>    (<span style="color: #b58900;">insert</span>
<span class="linenr">13: </span>     (<span style="color: #b58900;">concat</span>
<span class="linenr">14: </span>      <span style="color: #2aa198;">"#+EXPORT_FILE_NAME: "</span> pub-filename
<span class="linenr">15: </span>      <span style="color: #2aa198;">"\n#+options: toc:nil title:nil html-postamble:nil"</span>
<span class="linenr">16: </span>      <span style="color: #2aa198;">"\n#+title: "</span> (<span style="color: #859900; font-weight: bold;">if</span> (<span style="color: #b58900;">equal</span> <span style="color: #2aa198;">"index"</span> (<span style="color: #b58900;">f-base</span> pub-filename))
<span class="linenr">17: </span>                        <span style="color: #268bd2;">org-static-blog-publish-title</span>
<span class="linenr">18: </span>                        (<span style="color: #b58900;">f-base</span> pub-filename))
<span class="linenr">19: </span>      <span style="color: #2aa198;">"\n#+begin_export html\n "</span>
<span class="linenr">20: </span>        <span style="color: #268bd2;">org-static-blog-page-preamble</span>
<span class="linenr">21: </span>        <span style="color: #268bd2;">org-static-blog-page-header</span>
<span class="linenr">22: </span>        (<span style="color: #859900; font-weight: bold;">if</span> front-matter front-matter <span style="color: #2aa198;">""</span>)
<span class="linenr">23: </span>      <span style="color: #2aa198;">"\n#+end_export"</span>
<span class="linenr">24: </span>
<span class="linenr">25: </span>      <span style="color: #2aa198;">"\n\n"</span>
<span class="linenr">26: </span>      (<span style="color: #859900; font-weight: bold;">if</span> (<span style="color: #b58900;">equal</span> <span style="color: #2aa198;">"index"</span> (<span style="color: #b58900;">f-base</span> pub-filename))
<span class="linenr">27: </span>          (<span style="color: #b58900;">format</span> <span style="color: #2aa198;">"#+begin_export html\n%s\n#+end_export\n%s"</span>
<span class="linenr">28: </span>                  <span style="color: #268bd2;">org-static-blog-page-header</span> index-content-header)
<span class="linenr">29: </span>        <span style="color: #2aa198;">""</span>)
<span class="linenr">30: </span>
<span class="linenr">31: </span>      <span style="color: #2aa198;">"\n\n"</span> <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">abstracts of posts</span>
<span class="linenr">32: </span>      (<span style="color: #859900; font-weight: bold;">thread-last</span> post-filenames
<span class="linenr">33: </span>        (<span style="color: #859900; font-weight: bold;">--map</span>
<span class="linenr">34: </span>         (<span style="color: #b58900;">format</span>
<span class="linenr">35: </span>          (<span style="color: #b58900;">concat</span>
<span class="linenr">36: </span>           <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">&#10216;0&#10217; Title and link to article</span>
<span class="linenr">37: </span>           <span style="color: #2aa198;">"#+HTML: &lt;h2 class=\"title\"&gt;&lt;a href=\"%s\"&gt; %s&lt;/a&gt;&lt;/h2&gt;"</span>
<span class="linenr">38: </span>           <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">&#10216;1&#10217; Tags and reading time</span>
<span class="linenr">39: </span>           <span style="color: #2aa198;">"\n#+begin_center\n%s\n%s\n#+end_center"</span>
<span class="linenr">40: </span>           <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">&#10216;2&#10217; Article image</span>
<span class="linenr">41: </span>           <span style="color: #2aa198;">"\n</span><span style="color: #b58900;">@@html</span><span style="color: #2aa198;">:%s@@"</span>
<span class="linenr">42: </span>           <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">&#10216;3&#10217; Preview</span>
<span class="linenr">43: </span>           <span style="color: #2aa198;">"\n#+INCLUDE: \"%s::*Abstract\" :only-contents t"</span>
<span class="linenr">44: </span>           <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">&#10216;4&#10217; &#8220;Read more&#8221; link</span>
<span class="linenr">45: </span>           <span style="color: #2aa198;">"\n</span><span style="color: #b58900;">@@html:&lt;p style=\"text-align</span><span style="color: #2aa198;">:right\"&gt;@@"</span>
<span class="linenr">46: </span>           <span style="color: #2aa198;">" badge:Read|more|green|%s|read-the-docs </span><span style="color: #b58900;">@@html</span><span style="color: #2aa198;">:&lt;/p&gt;@@"</span>)
<span class="linenr">47: </span>          <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">&#10216;0&#10217; Title and link to article</span>
<span class="linenr">48: </span>          (<span style="color: #b58900;">concat</span> <span style="color: #268bd2;">org-static-blog-publish-url</span> (<span style="color: #b58900;">f-base</span> it))
<span class="linenr">49: </span>          (<span style="color: #b58900;">org-static-blog-get-title</span> it)
<span class="linenr">50: </span>          <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">&#10216;1&#10217; Tags and reading time</span>
<span class="linenr">51: </span>          (<span style="color: #b58900;">concat</span> <span style="color: #268bd2;">octoicon:tag</span> <span style="color: #2aa198;">" "</span>
<span class="linenr">52: </span>                  (<span style="color: #b58900;">s-join</span> <span style="color: #2aa198;">" "</span>
<span class="linenr">53: </span>                          (<span style="color: #859900; font-weight: bold;">--map</span> (<span style="color: #b58900;">format</span> <span style="color: #2aa198;">"badge:|%s|grey|%stag-%s.html"</span>
<span class="linenr">54: </span>                                         (<span style="color: #b58900;">s-replace</span> <span style="color: #2aa198;">"-"</span> <span style="color: #2aa198;">"_"</span> it)
<span class="linenr">55: </span>                                         <span style="color: #268bd2;">org-static-blog-publish-url</span> it)
<span class="linenr">56: </span>                                 (<span style="color: #b58900;">org-static-blog-get-tags</span> it))))
<span class="linenr">57: </span>          (<span style="color: #859900; font-weight: bold;">if</span> (<span style="color: #b58900;">not</span> show-reading-time)
<span class="linenr">58: </span>              <span style="color: #2aa198;">""</span>
<span class="linenr">59: </span>            (<span style="color: #b58900;">format</span> <span style="color: #2aa198;">"\n%s %s mins read"</span>
<span class="linenr">60: </span>                    <span style="color: #268bd2;">octoicon:clock</span>
<span class="linenr">61: </span>                    (<span style="color: #859900; font-weight: bold;">with-temp-buffer</span> (<span style="color: #b58900;">insert-file-contents</span> it)
<span class="linenr">62: </span>                                      (<span style="color: #b58900;">org-ascii-export-as-ascii</span>)
<span class="linenr">63: </span>                                      (<span style="color: #859900; font-weight: bold;">setq</span> __x
<span class="linenr">64: </span>                                            (<span style="color: #b58900;">count-words</span> (<span style="color: #b58900;">point-min</span>) (<span style="color: #b58900;">point-max</span>)))
<span class="linenr">65: </span>                                      (<span style="color: #b58900;">kill-buffer</span> <span style="color: #2aa198;">"*Org ASCII Export*"</span>)
<span class="linenr">66: </span>                                      (<span style="color: #b58900;">delete-other-windows</span>)
<span class="linenr">67: </span>                                      (<span style="color: #b58900;">/</span> __x 200)))) <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">200 words per minute reading</span>
<span class="linenr">68: </span>          <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">&#10216;2&#10217; Article image</span>
<span class="linenr">69: </span>          (<span style="color: #b58900;">my/org-static-blog-assemble-image</span> it)
<span class="linenr">70: </span>          <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">&#10216;3&#10217; Preview</span>
<span class="linenr">71: </span>          it
<span class="linenr">72: </span>          <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">&#10216;4&#10217; &#8220;Read more&#8221; link</span>
<span class="linenr">73: </span>          (<span style="color: #b58900;">concat</span> <span style="color: #268bd2;">org-static-blog-publish-url</span> (<span style="color: #b58900;">f-base</span> it))))
<span class="linenr">74: </span>        (<span style="color: #b58900;">s-join</span> <span style="color: #2aa198;">"\n\n"</span>))
<span class="linenr">75: </span>
<span class="linenr">76: </span>      <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">bottom matter</span>
<span class="linenr">77: </span>      <span style="color: #2aa198;">"\n#+begin_export html:\n"</span>
<span class="linenr">78: </span>      <span style="color: #2aa198;">"&lt;hr&gt;&lt;hr&gt; &lt;div id=\"archive\"&gt;"</span>
<span class="linenr">79: </span>      <span style="color: #2aa198;">"&lt;a href=\""</span>
<span class="linenr">80: </span>      (<span style="color: #b58900;">org-static-blog-get-absolute-url</span> <span style="color: #268bd2;">org-static-blog-archive-file</span>)
<span class="linenr">81: </span>      <span style="color: #2aa198;">"\"&gt;"</span> (<span style="color: #b58900;">org-static-blog-gettext</span> 'other-posts) <span style="color: #2aa198;">"&lt;/a&gt;"</span>
<span class="linenr">82: </span>      <span style="color: #2aa198;">"&lt;/div&gt;"</span>
<span class="linenr">83: </span>      <span style="color: #2aa198;">"&lt;/div&gt;"</span>
<span class="linenr">84: </span>      <span style="color: #2aa198;">"&lt;div id=\"postamble\" class=\"status\"&gt;"</span>
<span class="linenr">85: </span>      <span style="color: #268bd2;">org-static-blog-page-postamble</span>
<span class="linenr">86: </span>      <span style="color: #2aa198;">"&lt;/div&gt;"</span>
<span class="linenr">87: </span>      <span style="color: #2aa198;">"\n#+end_export"</span>))
<span class="linenr">88: </span>    (<span style="color: #b58900;">org-mode</span>)
<span class="linenr">89: </span>    (<span style="color: #b58900;">org-html-export-to-html</span>)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb6cbd9d" class="outline-2">
<h2 id="orgb6cbd9d"><span class="section-number-2">10</span> Curvy Source Blocks</h2>
<div class="outline-text-2" id="text-10">
<p>
<a id="org8835ef4"></a>
</p>

<p>
The <code>border-radius</code> property defines the radius of an
element's corners, we use it to make curvy looking source blocks.
Its behaviour <a href="https://www.w3schools.com/cssref/css3_pr_border-radius.asp">changes</a> depending on how many arguments it is given.
</p>
<ul class="org-ul">
<li>We also style the code block's label to be curvy.</li>
<li>Both <code>.src</code> and <code>pre.src:before</code> are defined by Org.</li>
</ul>

<div class="org-src-container">
<pre class="src src-css"><span class="linenr"> 1: </span><span style="color: #268bd2;">.src </span>{
<span class="linenr"> 2: </span>  <span style="color: #859900;">border</span>: 0px <span style="color: #d33682; font-style: italic;">!important</span>;
<span class="linenr"> 3: </span>  <span style="color: #96A7A9; font-style: italic;">/* </span><span style="color: #96A7A9; font-style: italic;">50px for top-left and bottom-right corners;</span>
<span class="linenr"> 4: </span><span style="color: #96A7A9; font-style: italic;">     20px for top-right and bottom-left cornerns. </span><span style="color: #96A7A9; font-style: italic;">*/</span>
<span class="linenr"> 5: </span>  <span style="color: #859900;">border-radius</span>: 50px 20px <span style="color: #d33682; font-style: italic;">!important</span>;
<span class="linenr"> 6: </span>}
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span><span style="color: #268bd2;">pre.src:before </span>{
<span class="linenr"> 9: </span>    <span style="color: #96A7A9; font-style: italic;">/* </span><span style="color: #96A7A9; font-style: italic;">border: 0px !important; </span><span style="color: #96A7A9; font-style: italic;">*/</span>
<span class="linenr">10: </span>    <span style="color: #96A7A9; font-style: italic;">/* </span><span style="color: #96A7A9; font-style: italic;">background-color: inherit !important; </span><span style="color: #96A7A9; font-style: italic;">*/</span>
<span class="linenr">11: </span>    <span style="color: #859900;">padding</span>: 3px <span style="color: #d33682; font-style: italic;">!important</span>;
<span class="linenr">12: </span>    <span style="color: #859900;">border-radius</span>: 20px 50px <span style="color: #d33682; font-style: italic;">!important</span>;
<span class="linenr">13: </span>    <span style="color: #859900;">font-weight</span>:700
<span class="linenr">14: </span>}
<span class="linenr">15: </span>
<span class="linenr">16: </span> <span style="color: #96A7A9; font-style: italic;">/* </span><span style="color: #96A7A9; font-style: italic;">wrap lengthy lines for code blocks </span><span style="color: #96A7A9; font-style: italic;">*/</span>
<span class="linenr">17: </span> <span style="color: #268bd2;">pre</span>{<span style="color: #859900;">white-space</span>:pre-wrap}
<span class="linenr">18: </span>
<span class="linenr">19: </span> <span style="color: #96A7A9; font-style: italic;">/* </span><span style="color: #96A7A9; font-style: italic;">Also curvy inline code with ~ &#8943; ~ and = &#8943; = </span><span style="color: #96A7A9; font-style: italic;">*/</span>
<span class="linenr">20: </span> <span style="color: #268bd2;">code </span>{
<span class="linenr">21: </span>     <span style="color: #859900;">background</span>: Cyan <span style="color: #d33682; font-style: italic;">!important</span>;
<span class="linenr">22: </span>     <span style="color: #859900;">border-radius</span>: 7px;
<span class="linenr">23: </span>     <span style="color: #96A7A9; font-style: italic;">/* </span><span style="color: #96A7A9; font-style: italic;">border: 1px solid lightgrey; background: #FFFFE9; padding: 2px </span><span style="color: #96A7A9; font-style: italic;">*/</span>
<span class="linenr">24: </span> }
</pre>
</div>

<p>
Code such as <code>(= 2 (+ 1 1))</code> now sticks out with a cyan background ♥‿♥
</p>

<div class="org-src-container">
<pre class="src src-css"> <span style="color: #268bd2;">table </span>{
     <span style="color: #859900;">background</span>: <span style="color: #000000; background-color: #ffc0cb;">pink</span>;
     <span style="color: #859900;">border-radius</span>: 10px;
     <span style="color: #96A7A9; font-style: italic;">/* </span><span style="color: #96A7A9; font-style: italic;">width:90% </span><span style="color: #96A7A9; font-style: italic;">*/</span>

     <span style="color: #859900;">border-bottom</span>: hidden;
     <span style="color: #859900;">border-top</span>: hidden;

     <span style="color: #859900;">display</span>: table <span style="color: #d33682; font-style: italic;">!important</span>;

     <span style="color: #96A7A9; font-style: italic;">/* </span><span style="color: #96A7A9; font-style: italic;">Put table in the center of the page, horizontally. </span><span style="color: #96A7A9; font-style: italic;">*/</span>
     <span style="color: #859900;">margin-left</span>:auto <span style="color: #d33682; font-style: italic;">!important</span>;<span style="color: #859900;">margin-right</span>:auto <span style="color: #d33682; font-style: italic;">!important</span>;

     <span style="color: #859900;">font-family</span>:<span style="color: #2aa198;">"Courier New"</span>;
     <span style="color: #859900;">font-size</span>:90%;
 }

 <span style="color: #96A7A9; font-style: italic;">/* </span><span style="color: #96A7A9; font-style: italic;">Styling for &#8216;t&#8217;able &#8216;d&#8217;ata and &#8216;h&#8217;eader elements </span><span style="color: #96A7A9; font-style: italic;">*/</span>
 <span style="color: #268bd2;">th, td </span>{
     <span style="color: #859900;">border</span>: 0px solid <span style="color: #ffffff; background-color: #ff0000;">red</span>;
 }
</pre>
</div>
<table>
<caption class="t-bottom"><span class="table-number">Table 1:</span> Example table</caption>

<colgroup>
<col  class="org-center">

<col  class="org-center">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-center">Prime</th>
<th scope="col" class="org-center">2<sup>Prime</sup></th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-center">1</td>
<td class="org-center">2</td>
</tr>

<tr>
<td class="org-center">2</td>
<td class="org-center">4</td>
</tr>

<tr>
<td class="org-center">3</td>
<td class="org-center">8</td>
</tr>

<tr>
<td class="org-center">5</td>
<td class="org-center">32</td>
</tr>

<tr>
<td class="org-center">7</td>
<td class="org-center">128</td>
</tr>

<tr>
<td class="org-center">11</td>
<td class="org-center">2048</td>
</tr>
</tbody>
</table>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">MA: Relocate this to my init.</span>
<span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">Table captions should be below the tables</span>
(<span style="color: #859900; font-weight: bold;">setq</span> <span style="color: #268bd2;">org-html-table-caption-above</span> nil
      org-export-latex-table-caption-above nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-org9b835cc" class="outline-2">
<h2 id="org9b835cc"><span class="section-number-2">11</span> <code>my/blog/new-article</code></h2>
<div class="outline-text-2" id="text-11">
<p>
<a id="orgce05ea3"></a>
</p>

<p>
Helper function to make a new article.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="linenr"> 1: </span>(<span style="color: #859900; font-weight: bold;">defvar</span> <span style="color: #268bd2;">my/blog/tags</span>
<span class="linenr"> 2: </span>  '(emacs faith category-theory order-theory
<span class="linenr"> 3: </span>    lisp types packages haskell agda
<span class="linenr"> 4: </span>    c frama-c program-proving)
<span class="linenr"> 5: </span>  <span style="color: #35a69c; font-style: italic;">"Tags for my blog articles."</span>)
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span><span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">Use C-SPC to select multiple items</span>
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #b58900;">my/blog/new-article</span> ()
<span class="linenr">10: </span>  <span style="color: #35a69c; font-style: italic;">"Make a new article for my blog; prompting for the necessary ingredients.</span>
<span class="linenr">11: </span>
<span class="linenr">12: </span><span style="color: #35a69c; font-style: italic;">If the filename entered already exists, we simply write to it.</span>
<span class="linenr">13: </span><span style="color: #35a69c; font-style: italic;">The user notices this and picks a new name."</span>
<span class="linenr">14: </span>  (<span style="color: #859900; font-weight: bold;">interactive</span>)
<span class="linenr">15: </span>  (<span style="color: #859900; font-weight: bold;">let</span> (file desc)
<span class="linenr">16: </span>
<span class="linenr">17: </span>    (<span style="color: #859900; font-weight: bold;">thread-last</span> <span style="color: #268bd2;">org-static-blog-posts-directory</span>
<span class="linenr">18: </span>      <span style="color: #b58900;">f-entries</span>
<span class="linenr">19: </span>      (<span style="color: #b58900;">mapcar</span> #'<span style="color: #b58900;">f-filename</span>)
<span class="linenr">20: </span>      (<span style="color: #b58900;">completing-read</span> <span style="color: #2aa198;">"Filename (Above are existing): "</span>)
<span class="linenr">21: </span>      (<span style="color: #b58900;">concat</span> <span style="color: #268bd2;">org-static-blog-posts-directory</span>)
<span class="linenr">22: </span>      (<span style="color: #859900; font-weight: bold;">setq</span> file))
<span class="linenr">23: </span>
<span class="linenr">24: </span>    <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">For some reason, &#8216;</span><span style="color: #6c71c4; font-weight: bold; font-style: italic;">find-file</span><span style="color: #96A7A9; font-style: italic;">&#8217; in the thread above</span>
<span class="linenr">25: </span>    <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">wont let the completing-read display the possible completions.</span>
<span class="linenr">26: </span>    (<span style="color: #b58900;">find-file</span> file)
<span class="linenr">27: </span>
<span class="linenr">28: </span>    (<span style="color: #b58900;">insert</span> <span style="color: #2aa198;">"#+title: "</span> (<span style="color: #b58900;">read-string</span> <span style="color: #2aa198;">"Title: "</span>)
<span class="linenr">29: </span>            <span style="color: #2aa198;">"\n#+author: "</span> <span style="color: #b58900;">user-full-name</span>
<span class="linenr">30: </span>            <span style="color: #2aa198;">"\n#+email: "</span>  <span style="color: #268bd2;">user-mail-address</span>
<span class="linenr">31: </span>            <span style="color: #2aa198;">"\n#+date: "</span> (<span style="color: #b58900;">format-time-string</span> <span style="color: #2aa198;">"&lt;%Y-%m-%d %H:%M&gt;"</span>)
<span class="linenr">32: </span>            <span style="color: #2aa198;">"\n#+filetags: "</span> (<span style="color: #b58900;">s-join</span> <span style="color: #2aa198;">" "</span> (<span style="color: #b58900;">helm-comp-read</span> <span style="color: #2aa198;">"Tags: "</span>
<span class="linenr">33: </span>                                                         <span style="color: #268bd2;">my/blog/tags</span>
<span class="linenr">34: </span>                                                         <span style="color: #d33682; font-style: italic;">:marked-candidates</span> <span style="color: #268bd2;">t</span>))
<span class="linenr">35: </span>            <span style="color: #2aa198;">"\n#+fileimage: "</span> (<span style="color: #b58900;">completing-read</span>
<span class="linenr">36: </span>                               <span style="color: #2aa198;">"Image: "</span>
<span class="linenr">37: </span>                               (<span style="color: #b58900;">mapcar</span> #'<span style="color: #b58900;">f-filename</span> (<span style="color: #b58900;">f-entries</span> <span style="color: #2aa198;">"~/blog/images/"</span>)))
<span class="linenr">38: </span>            <span style="color: #2aa198;">"\n#+description: "</span>
<span class="linenr">39: </span>               (<span style="color: #859900; font-weight: bold;">setq</span> desc (<span style="color: #b58900;">read-string</span> <span style="color: #2aa198;">"Article Purpose: "</span>))
<span class="linenr">40: </span>            <span style="color: #2aa198;">"\n\n* Abstract :ignore: \n"</span> desc
<span class="linenr">41: </span>            <span style="color: #2aa198;">"\n\n* ???"</span>)))
</pre>
</div>

<p>
<a id="org7481f7a"></a>
</p>

<p>
The <code>#+description</code> is exported as HTML meta-data which is used to
‘unfurl’ a link to an article: When a link to an article is pasted
in a social media website, it <i>unfurls</i> into a little card showing
some information about the link, such as its image, description, and author.
</p>
<ul class="org-ul">
<li>For long descriptions, one can use multiple <code>#+description</code> lines;
I'd like to have a terse one-liner with a longer description in the
<code>Abstract</code> heading.</li>
</ul>
</div>
</div>

<div id="outline-container-org82666ce" class="outline-2">
<h2 id="Publishing-with-C-u-C-u-C-c-C-b"><span class="section-number-2">12</span> Publishing with <code>[C-u C-u] C-c C-b</code></h2>
<div class="outline-text-2" id="text-Publishing-with-C-u-C-u-C-c-C-b">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="linenr"> 1: </span><span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">Override all minor modes that use this binding.</span>
<span class="linenr"> 2: </span>(<span style="color: #859900; font-weight: bold;">bind-key*</span> (<span style="color: #b58900;">kbd</span> <span style="color: #2aa198;">"C-c C-b"</span>)
<span class="linenr"> 3: </span>  (<span style="color: #859900; font-weight: bold;">lambda</span> (<span style="color: #b58900; font-style: italic;">&amp;optional</span> prefix)
<span class="linenr"> 4: </span><span style="color: #35a69c; font-style: italic;">"C-c C-b        &#8658; Publish current buffer</span>
<span class="linenr"> 5: </span><span style="color: #35a69c; font-style: italic;">C-u C-c C-b     &#8658; Publish entire blog</span>
<span class="linenr"> 6: </span><span style="color: #35a69c; font-style: italic;">C-u C-u C-c C-b &#8658; Publish entire blog; re-rendering all blog posts</span>
<span class="linenr"> 7: </span><span style="color: #35a69c; font-style: italic;">                  (This will take time!)</span>
<span class="linenr"> 8: </span><span style="color: #35a69c; font-style: italic;">"</span>
<span class="linenr"> 9: </span>     (<span style="color: #859900; font-weight: bold;">interactive</span> <span style="color: #2aa198;">"P"</span>)
<span class="linenr">10: </span>     (<span style="color: #859900; font-weight: bold;">pcase</span> (<span style="color: #859900; font-weight: bold;">or</span> (<span style="color: #b58900;">car</span> prefix) 0)
<span class="linenr">11: </span>       (0  (<span style="color: #b58900;">org-static-blog-publish-file</span> (<span style="color: #b58900;">f-full</span> (<span style="color: #b58900;">buffer-name</span>))))
<span class="linenr">12: </span>           <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">(browse-url-of-file (format "%s%s.html" org-static-blog-posts-directory</span>
<span class="linenr">13: </span>           <span style="color: #96A7A9; font-style: italic;">;;                            </span><span style="color: #96A7A9; font-style: italic;">(f-base (buffer-name))))</span>
<span class="linenr">14: </span>       <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">Apparently I have to publish the current buffer before trying</span>
<span class="linenr">15: </span>       <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">to publish the blog; otherwise I got some errors.</span>
<span class="linenr">16: </span>       (4  (<span style="color: #b58900;">org-static-blog-publish-file</span> (<span style="color: #b58900;">f-full</span> (<span style="color: #b58900;">buffer-name</span>)))
<span class="linenr">17: </span>           (<span style="color: #b58900;">org-static-blog-publish</span>))
<span class="linenr">18: </span>       (16 <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">(org-static-blog-publish t) &#8658; Crashes.</span>
<span class="linenr">19: </span>           <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">Delete all .html files, except &#8220;about&#8221;</span>
<span class="linenr">20: </span>           (<span style="color: #859900; font-weight: bold;">thread-last</span> (<span style="color: #b58900;">f-entries</span> <span style="color: #2aa198;">"~/blog/"</span>)
<span class="linenr">21: </span>             (<span style="color: #859900; font-weight: bold;">--filter</span> (<span style="color: #859900; font-weight: bold;">and</span> (<span style="color: #b58900;">equal</span> (<span style="color: #b58900;">f-ext</span> it) <span style="color: #2aa198;">"html"</span>)
<span class="linenr">22: </span>                            (<span style="color: #b58900;">not</span> (<span style="color: #b58900;">member</span> (<span style="color: #b58900;">f-base</span> it) '(<span style="color: #2aa198;">"about"</span>)))))
<span id="coderef-delAll" class="coderef-off"><span class="linenr">23: </span>             (<span style="color: #859900; font-weight: bold;">--map</span> (<span style="color: #b58900;">f-delete</span> it)))</span>
<span class="linenr">24: </span>           <span style="color: #96A7A9; font-style: italic;">;; </span><span style="color: #96A7A9; font-style: italic;">Publish as usual</span>
<span class="linenr">25: </span>           (<span style="color: #b58900;">org-static-blog-publish-file</span> (<span style="color: #b58900;">f-full</span> (<span style="color: #b58900;">buffer-name</span>)))
<span class="linenr">26: </span>           (<span style="color: #b58900;">org-static-blog-publish</span>)))))
</pre>
</div>

<p>
Line <a href="#coderef-delAll" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-delAll');" onmouseout="CodeHighlightOff(this, 'coderef-delAll');">23</a>: To re-render an article, just remove its corresponding .html file ;-)
</p>
</div>
</div>

<div id="outline-container-org5e40175" class="outline-2">
<h2 id="the-name"><span class="section-number-2">13</span> The name: <a href="https://en.wikipedia.org/wiki/Basmala">al-bas-mala</a></h2>
<div class="outline-text-2" id="text-the-name">
<p>
The prefix <i>al</i> is the Arabic definite particle which may correspond to English's <i>the</i>;
whereas <i>basmala</i> refers to a beginning.
</p>

<p>
That is, this is a variation on the traditional <a href="https://en.wikipedia.org/wiki/%22Hello,_World!%22_program">"hello world"</a> ;-)
</p>
</div>
</div>
<div class="taglist"><a href="https://alhassy.github.io/tags.html">Tags</a>: <a href="https://alhassy.github.io/tag-emacs.html">emacs</a> </div><center><strong> Generated by Emacs and Org-mode (•̀ᴗ•́)و </strong></center><center><a href="AlBasmala.org.html"><img
   src="https://img.shields.io/badge/-Source-informational?logo=read-the-docs"></a>&emsp;<a href="https://github.com/alhassy/alhassy.github.io/commits/master/posts/AlBasmala.org"><img
   src="https://img.shields.io/badge/-History-informational?logo=github"></a><br><a href="https://www.buymeacoffee.com/alhassy"><img src="https://img.shields.io/badge/-buy_me_a%C2%A0coffee-gray?logo=buy-me-a-coffee"></a></center></div>
<div id="postamble" class="status"><center> <a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/"> <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png"/> </a> <br/> <span xmlns:dct="https://purl.org/dc/terms/" href="https://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type"> <em>Life & Computing Science</em> </span> by <a xmlns:cc="https://creativecommons.org/ns#" href="https://alhassy.github.io/" property="cc:attributionName" rel="cc:attributionURL"> Musa Al-hassy </a> is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/"> Creative Commons Attribution-ShareAlike 3.0 Unported License. </a></center><div id="disqus_thread"></div><script type="text/javascript">/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */var disqus_shortname = 'life-and-computing-science';/* * * DON'T EDIT BELOW THIS LINE * * */(function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })();</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a></div>
</body>
</html>
